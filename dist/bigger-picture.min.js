var BiggerPicture=function(){function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n}function c(n,e,o){n.l.t.push(((n,...e)=>{if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function l(n){return n&&i(n.destroy)?n.destroy:t}let u=()=>globalThis.performance.now(),a=t=>requestAnimationFrame(t);const p=new Set;function f(t){p.forEach((n=>{n.c(t)||(p.delete(n),n.f())})),0!==p.size&&a(f)}function d(t){let n;return 0===p.size&&a(f),{promise:new Promise((e=>{p.add(n={c:t,f:e})})),abort(){p.delete(n)}}}function m(t,n){t.appendChild(n)}function b(t){const n=x("style");return((t,n)=>{m(t.head||t,n)})(document,n),n.sheet}function h(t,n,e){t.insertBefore(n,e||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function v(){return document.createTextNode("")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n,e,o){null===e?t.style.removeProperty(n):t.style.setProperty(n,e)}function k(t,n,e){t.classList[e?"add":"remove"](n)}const M=new Map;let I,z=0;function S(t,n,e,o,r,i,s,c=0){const l=16.666/o;let u="{\n";for(let t=0;1>=t;t+=l){const o=n+(e-n)*i(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(e,1-e)}}\n}`,p=`_bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${c}`,f=document,{stylesheet:d,rules:m}=M.get(f)||((t,n)=>{const e={stylesheet:b(),rules:{}};return M.set(t,e),e})(f);m[p]||(m[p]=1,d.insertRule(`@keyframes ${p} ${a}`,d.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${p} ${o}ms linear ${r}ms 1 both`,z+=1,p}function _(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("_bp")),r=e.length-o.length;r&&(t.style.animation=o.join(", "),z-=r,z||a((()=>{z||(M.forEach((t=>{const{ownerNode:n}=t.stylesheet;n&&g(n)})),M.clear())})))}function T(t){I=t}const P=[],N=[],A=[],C=[],E=Promise.resolve();let O=0;function R(t){A.push(t)}const j=new Set;let L,q=0;function F(){if(0!==q)return;const t=I;do{try{for(;P.length>q;){const t=P[q];q++,T(t),H(t.l)}}catch(t){throw P.length=0,q=0,t}for(T(null),P.length=0,q=0;N.length;)N.pop()();for(let t=0;A.length>t;t+=1){const n=A[t];j.has(n)||(j.add(n),n())}A.length=0}while(P.length);for(;C.length;)C.pop()();O=0,j.clear(),T(t)}function H(t){if(null!==t.u){t.update(),r(t.g);const n=t.v;t.v=[-1],t.u&&t.u.p(t.$,n),t.k.forEach(R)}}function J(){return L||(L=Promise.resolve(),L.then((()=>{L=null}))),L}function B(t,n,e){t.dispatchEvent(((t,n,{bubbles:e=0,cancelable:o=0}={})=>{const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,o,n),r})(`${n?"intro":"outro"}${e}`))}const D=new Set;let K;function U(){K={r:0,c:[],p:K}}function W(){K.r||r(K.c),K=K.p}function X(t,n){t&&t.i&&(D.delete(t),t.i(n))}function Y(t,n,e,o){if(t&&t.o){if(D.has(t))return;D.add(t),K.c.push((()=>{D.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}const G={duration:0};function Q(e,o,r){const s={direction:"in"};let c,l,a=o(e,r,s),p=0,f=0;function m(){c&&_(e,c)}function b(){const{delay:o=0,duration:r=300,M:i=n,I:s=t,css:b}=a||G;b&&(c=S(e,0,1,r,o,i,b,f++)),s(0,1);const h=u()+o,g=h+r;l&&l.abort(),p=1,R((()=>B(e,1,"start"))),l=d((t=>{if(p){if(t>=g)return s(1,0),B(e,1,"end"),m(),p=0;if(t>=h){const n=i((t-h)/r);s(n,1-n)}}return p}))}let h=0;return{start(){h||(h=1,_(e),i(a)?(a=a(s),J().then(b)):b())},S(){h=0},end(){p&&(m(),p=0)}}}function V(e,o,s){const c={direction:"out"};let l,a=o(e,s,c),p=1;const f=K;function m(){const{delay:o=0,duration:i=300,M:s=n,I:c=t,css:m}=a||G;m&&(l=S(e,1,0,i,o,s,m));const b=u()+o,h=b+i;R((()=>B(e,0,"start"))),d((t=>{if(p){if(t>=h)return c(0,1),B(e,0,"end"),--f.r||r(f.c),0;if(t>=b){const n=s((t-b)/i);c(1-n,n)}}return p}))}return f.r+=1,i(a)?J().then((()=>{a=a(c),m()})):m(),{end(t){t&&a.I&&a.I(1,0),p&&(l&&_(e,l),p=0)}}}function Z(t){t&&t.c()}function tt(t,n,e,s){const{u:c,k:l}=t.l;c&&c.m(n,e),s||R((()=>{const n=t.l._.map(o).filter(i);t.l.t?t.l.t.push(...n):r(n),t.l._=[]})),l.forEach(R)}function nt(t,n){const e=t.l;null!==e.u&&(r(e.t),e.u&&e.u.d(n),e.t=e.u=null,e.$=[])}function et(n,e,o,i,s,c,l,u=[-1]){const a=I;T(n);const p=n.l={u:null,$:[],T:c,update:t,P:s,bound:{},_:[],t:[],N:[],g:[],k:[],context:new Map(e.context||(a?a.l.context:[])),A:{},v:u,C:0,root:e.target||a.l.root};l&&l(p.root);let f=0;p.$=o?o(n,e.T||{},((t,e,...o)=>{const r=o.length?o[0]:e;return p.$&&s(p.$[t],p.$[t]=r)&&(!p.C&&p.bound[t]&&p.bound[t](r),f&&((t,n)=>{-1===t.l.v[0]&&(P.push(t),O||(O=1,E.then(F)),t.l.v.fill(0)),t.l.v[n/31|0]|=1<<n%31})(n,t)),e})):[],p.update(),f=1,r(p.g),p.u=i?i(p.$):0,e.target&&(p.u&&p.u.c(),tt(n,e.target,e.anchor,e.customElement),F()),T(a)}class ot{$destroy(){nt(this,1),this.$destroy=t}$on(n,e){if(!i(e))return t;const o=this.l.A[n]||(this.l.A[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}O(t){this.R&&0!==Object.keys(t).length&&(this.l.C=1,this.R(t),this.l.C=0)}}function rt(t){const n=t-1;return n*n*n+1}function it(t,{delay:n=0,duration:e=400,M:o=rt,x:r=0,y:i=0,opacity:s=0}={}){const c=getComputedStyle(t),l=+c.opacity,u="none"===c.transform?"":c.transform,a=l*(1-s);return{delay:n,duration:e,M:o,css(t,n){return`\n\t\t\ttransform: ${u} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${l-a*n}`}}}const st=[];function ct(n,e=t){let o;const r=new Set;function i(t){if(i=t,((e=n)!=e?i==i:e!==i||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!st.length;for(const t of r)t[1](),st.push(t,n);if(t){for(let t=0;st.length>t;t+=2)st[t][0](st[t+1]);st.length=0}}var e,i}return{set:i,update(t){i(t(n))},subscribe(s,c=t){const l=[s,c];return r.add(l),1===r.size&&(o=e(i)||t),s(n),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}function lt(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map(((n,e)=>lt(t[e],n)));return t=>e.map((n=>n(t)))}if("number"===e){const e=n-t;return n=>t+n*e}}function ut(t,o={}){const r=ct(t);let i,s=t;function c(c,l){if(null==t)return r.set(t=c),Promise.resolve();s=c;let a=i,p=0,{delay:f=0,duration:m=400,M:b=n,interpolate:h=lt}=e(e({},o),l);if(0===m)return a&&(a.abort(),a=null),r.set(t=s),Promise.resolve();const g=u()+f;let x;return i=d((n=>{if(g>n)return 1;p||(x=h(t,c),"function"==typeof m&&(m=m(t,c)),p=1),a&&(a.abort(),a=null);const e=n-g;return e>m?(r.set(t=c),0):(r.set(t=x(b(e/m))),1)})),i.promise}return{set:c,update(n,e){return c(n(s,t),e)},subscribe:r.subscribe}}const at=ct(0),pt=globalThis.matchMedia?.("(prefers-reduced-motion: reduce)").matches,ft=t=>({M:rt,duration:pt?0:t}),dt=t=>!t.thumb||`url(${t.thumb})`,mt=(t,n)=>{if(n){"string"==typeof n&&(n=JSON.parse(n));for(const e in n)t.setAttribute(e,n[e])}};function bt(t){let n,e,o;return{c(){n=x("div"),n.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',w(n,"class","bp-load"),y(n,"background-image",dt(t[0]))},m(t,e){h(t,n,e),o=1},p(t,e){1&e&&y(n,"background-image",dt(t[0]))},i(t){o||(e&&e.end(1),o=1)},o(t){t&&(e=V(n,it,{duration:480})),o=0},d(t){t&&g(n),t&&e&&e.end()}}}function ht(n){let e,o;return{c(){e=x("div"),w(e,"class","bp-load"),y(e,"background-image",dt(n[0]))},m(t,n){h(t,e,n)},p(t,n){1&n&&y(e,"background-image",dt(t[0]))},i(t){o||R((()=>{o=Q(e,it,{duration:480}),o.start()}))},o:t,d(t){t&&g(e)}}}function gt(t){let n,e,o=!t[1]&&bt(t),r=t[2]&&ht(t);return{c(){o&&o.c(),n=v(),r&&r.c(),e=v()},m(t,i){o&&o.m(t,i),h(t,n,i),r&&r.m(t,i),h(t,e,i)},p(t,[i]){t[1]?o&&(U(),Y(o,1,1,(()=>{o=null})),W()):o?(o.p(t,i),2&i&&X(o,1)):(o=bt(t),o.c(),X(o,1),o.m(n.parentNode,n)),t[2]?r?(r.p(t,i),4&i&&X(r,1)):(r=ht(t),r.c(),X(r,1),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i(t){X(o),X(r)},o(t){Y(o)},d(t){o&&o.d(t),t&&g(n),r&&r.d(t),t&&g(e)}}}function xt(t,n,e){let o;c(t,at,(t=>e(2,o=t)));let{j:r}=n,{loaded:i}=n;return t.R=t=>{"j"in t&&e(0,r=t.j),"loaded"in t&&e(1,i=t.loaded)},[r,i,o]}class vt extends ot{constructor(t){super(),et(this,t,xt,gt,s,{j:0,loaded:1})}}function $t(t){let n,e,o,i,s,c;return{c(){n=x("img"),w(n,"sizes",e=t[9].sizes||t[1]+"px"),w(n,"alt",t[8].alt)},m(e,o){h(e,n,o),i=1,s||(c=[l(t[21].call(null,n)),$(n,"error",t[27])],s=1)},p(t,o){(!i||2&o[0]&&e!==(e=t[9].sizes||t[1]+"px"))&&w(n,"sizes",e)},i(t){i||(o&&o.end(1),i=1)},o(t){o=V(n,it,{}),i=0},d(t){t&&g(n),t&&o&&o.end(),s=0,r(c)}}}function wt(t){let n,e;return n=new vt({T:{j:t[8],loaded:t[2]}}),{c(){Z(n.l.u)},m(t,o){tt(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.O(o)},i(t){e||(X(n.l.u,t),e=1)},o(t){Y(n.l.u,t),e=0},d(t){nt(n,t)}}}function yt(t){let n,e,o,i,s,c,u=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`,a=t[2]&&$t(t),p=t[3]&&wt(t);return{c(){n=x("div"),e=x("div"),a&&a.c(),o=v(),p&&p.c(),w(e,"class","bp-img"),y(e,"width",t[0][0]+"px"),y(e,"height",t[0][1]+"px"),k(e,"bp-drag",t[4]),k(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]),y(e,"background-image",dt(t[8])),y(e,"transform",u),w(n,"class","bp-img-wrap"),k(n,"bp-close",t[5])},m(r,u){h(r,n,u),m(n,e),a&&a.m(e,null),m(e,o),p&&p.m(e,null),i=1,s||(c=[l(t[20].call(null,e)),$(n,"wheel",t[15]),$(n,"pointerdown",t[16]),$(n,"pointermove",t[17]),$(n,"pointerup",t[19]),$(n,"pointercancel",t[18])],s=1)},p(t,r){t[2]?a?(a.p(t,r),4&r[0]&&X(a,1)):(a=$t(t),a.c(),X(a,1),a.m(e,o)):a&&(U(),Y(a,1,1,(()=>{a=null})),W()),t[3]?p?(p.p(t,r),8&r[0]&&X(p,1)):(p=wt(t),p.c(),X(p,1),p.m(e,null)):p&&(U(),Y(p,1,1,(()=>{p=null})),W()),(!i||1&r[0])&&y(e,"width",t[0][0]+"px"),(!i||1&r[0])&&y(e,"height",t[0][1]+"px"),(!i||16&r[0])&&k(e,"bp-drag",t[4]),(!i||4161&r[0])&&k(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]),129&r[0]&&u!==(u=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`)&&y(e,"transform",u),(!i||32&r[0])&&k(n,"bp-close",t[5])},i(t){i||(X(a),X(p),i=1)},o(t){Y(a),Y(p),i=0},d(t){t&&g(n),a&&a.d(),p&&p.d(),s=0,r(c)}}}function kt(t,n,e){let o,r,i,s;c(t,at,(t=>e(26,i=t)));let{T:l}=n,{L:u}=n,{j:a,q:p,F:f,next:d,zoomed:m,container:b}=l;c(t,m,(t=>e(25,o=t)));let h,g,x,v,$,w,y,k,M,I,z,S=a.maxZoom||p.maxZoom||10,_=l.H(a),T=_[0],P=0,N=+a.width;const A=[],C=new Map,E=ut(_,ft(400));c(t,E,(t=>e(0,s=t)));const O=ut([0,0],ft(400));c(t,O,(t=>e(7,r=t)));const R=([t,n],o=s)=>{const r=(o[0]-b.w)/2,i=(o[1]-b.h)/2;return 0>r?t=0:t>r?u?(t=$?r+(t-r)/10:r)>r+20&&e(4,$=f()):t=r:-r>t&&(u?-r-20>(t=$?-r-(-r-t)/10:-r)&&e(4,$=d()):t=-r),0>i?n=0:n>i?n=i:-i>n&&(n=-i),[t,n]};function j(t=S,n){if(i)return;const o=_[0]*S;let c=s[0]+s[0]*t,l=s[1]+s[1]*t;if(t>0)c>o&&(c=o,l=_[1]*S),c>N&&(c=N,l=+a.height);else if(_[0]>c)return E.set(_),O.set([0,0]);let{x:u,y:p,width:f,height:d}=v.getBoundingClientRect();const m=n?n.clientX-u-f/2:0,b=n?n.clientY-p-d/2:0;u=c/f*-m+m,p=l/d*-b+b;const h=[c,l];E.set(h).then((()=>{e(1,T=Math.round(Math.max(T,c)))})),O.set(R([r[0]+u,r[1]+p],h))}Object.defineProperty(a,"zoom",{configurable:1,get(){return o},set(t){return j(t?S:-S)}});const L=t=>C.delete(t.pointerId);return t.R=t=>{"L"in t&&e(23,u=t.L)},t.l.update=()=>{if(16777217&t.l.v[0]&&m.set(s[0]-10>_[0]),117440512&t.l.v[0]&&i&&o&&!p.intro){const t=ft(480);O.set([0,0],t),E.set(_,t),e(5,z=1)}},[s,T,h,g,$,z,N,r,a,p,m,b,S,E,O,t=>{p.inline&&!o||(t.preventDefault(),j(t.deltaY/-300,t))},t=>{2!==t.button&&(t.preventDefault(),e(4,$=1),C.set(t.pointerId,t),y=t.clientX,k=t.clientY,M=r[0],I=r[1])},t=>{if(C.size>1)return e(4,$=0),p.noPinch?.(b.el)||(t=>{const[n,e]=C.set(t.pointerId,t).values(),o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);x=x||{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2},j(((P||o)-o)/-35,x),P=o})(t);if(!$)return;let n=t.clientX,r=t.clientY;w=A.push({x:n,y:r})>2,n-=y,r-=k,o||(-90>r&&e(4,$=!p.noClose&&l.close()),30>Math.abs(r)&&(n>40&&e(4,$=f()),-40>n&&e(4,$=d()))),o&&w&&!i&&O.set(R([M+n,I+r]),{duration:0})},L,function(t){if(L(t),x&&(e(4,$=P=0),x=C.size?x:null),$){if(e(4,$=0),t.target===this&&!p.noClose)return l.close();if(w){const[t,n,e]=A.slice(-3);Math.hypot(n.x-e.x,n.y-e.y)>5&&O.set(R([r[0]-5*(t.x-e.x),r[1]-5*(t.y-e.y)]))}else p.onImageClick?.(b.el,a)||j(o?-S:S,t);w=0,A.length=0}},t=>{v=t,l.J((()=>{e(24,_=l.H(a)),!p.inline&&u||(E.set(_),O.set([0,0]))})),l.B(a).then((()=>{e(24,_=l.H(a)),E.set(_),e(1,T=_[0]),e(6,N=+a.width),e(2,h=1),l.D()})),setTimeout((()=>{e(3,g=!h)}),250)},t=>{mt(t,a.attr)},l,u,_,o,i,t=>p.onError?.(b,a,t)]}let Mt=class extends ot{constructor(t){super(),et(this,t,kt,yt,s,{T:22,L:23},null,[-1,-1])}};function It(t){let n,e,o,i,s,c;return o=new vt({T:{j:t[2],loaded:t[0]}}),{c(){n=x("div"),e=x("iframe"),Z(o.l.u),w(e,"allow","autoplay; fullscreen"),w(e,"title",t[2].title),w(n,"class","bp-if"),y(n,"width",t[1][0]+"px"),y(n,"height",t[1][1]+"px")},m(r,u){h(r,n,u),m(n,e),tt(o,n,null),i=1,s||(c=[l(t[3].call(null,e)),$(e,"load",t[5])],s=1)},p(t,[e]){const r={};1&e&&(r.loaded=t[0]),o.O(r),(!i||2&e)&&y(n,"width",t[1][0]+"px"),(!i||2&e)&&y(n,"height",t[1][1]+"px")},i(t){i||(X(o.l.u,t),i=1)},o(t){Y(o.l.u,t),i=0},d(t){t&&g(n),nt(o),s=0,r(c)}}}function zt(t,n,e){let o,r,{T:i}=n;const{j:s}=i,c=()=>e(1,r=i.H(s));return c(),i.J(c),[o,r,s,t=>{mt(t,s.attr),t.src=s.iframe},i,()=>e(0,o=1)]}class St extends ot{constructor(t){super(),et(this,t,zt,It,s,{T:4})}}function _t(t){let n,e,o,r,i;return e=new vt({T:{j:t[2],loaded:t[0]}}),{c(){n=x("div"),Z(e.l.u),w(n,"class","bp-vid"),y(n,"width",t[1][0]+"px"),y(n,"height",t[1][1]+"px"),y(n,"background-image",dt(t[2]))},m(s,c){h(s,n,c),tt(e,n,null),o=1,r||(i=l(t[3].call(null,n)),r=1)},p(t,[r]){const i={};1&r&&(i.loaded=t[0]),e.O(i),(!o||2&r)&&y(n,"width",t[1][0]+"px"),(!o||2&r)&&y(n,"height",t[1][1]+"px")},i(t){o||(X(e.l.u,t),o=1)},o(t){Y(e.l.u,t),o=0},d(t){t&&g(n),nt(e),r=0,i()}}}function Tt(t,n,e){let o,r,{T:i}=n;const{j:s,q:c,container:l}=i,u=()=>e(1,r=i.H(s));return u(),i.J(u),[o,r,s,t=>{let n;const r=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e));for(const o of e){n||(n=document.createElement(o.type?.includes("audio")?"audio":"video"),mt(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}),mt(n,s.attr));const e=document.createElement(t);mt(e,o),"source"==t&&(e.onError=t=>c.onError?.(l,s,t)),n.append(e)}};r("source",s.sources),r("track",s.tracks||[]),n.oncanplay=()=>e(0,o=1),t.append(n)},i]}class Pt extends ot{constructor(t){super(),et(this,t,Tt,_t,s,{T:4})}}function Nt(n){let e,o,i,c,u,a,p,f,d,b,v=n[6].i,y=jt(n),M=n[0].length>1&&Lt(n);return{c(){e=x("div"),o=x("div"),c=x("div"),y.c(),u=x("div"),a=x("button"),M&&M.c(),w(o,"class","bp-overlay"),w(a,"class","bp-x"),w(a,"title","Close"),w(a,"aria-label","Close"),w(u,"class","bp-controls"),w(c,"class","bp-stage"),w(e,"class","bp-wrap"),k(e,"bp-zoomed",n[10]),k(e,"bp-inline",n[8]),k(e,"bp-small",n[7]),k(e,"bp-noclose",n[5].noClose)},m(t,r){h(t,e,r),m(e,o),m(e,c),y.m(c,null),m(c,u),m(u,a),M&&M.m(u,null),f=1,d||(b=[$(a,"click",n[1]),l(n[14].call(null,e))],d=1)},p(n,o){64&o[0]&&s(v,v=n[6].i)?(U(),Y(y,1,1,t),W(),y=jt(n),y.c(),X(y,1),y.m(c,u)):y.p(n,o),n[0].length>1?M?M.p(n,o):(M=Lt(n),M.c(),M.m(u,null)):M&&(M.d(1),M=null),(!f||1024&o[0])&&k(e,"bp-zoomed",n[10]),(!f||256&o[0])&&k(e,"bp-inline",n[8]),(!f||128&o[0])&&k(e,"bp-small",n[7]),(!f||32&o[0])&&k(e,"bp-noclose",n[5].noClose)},i(t){f||(i&&i.end(1),X(y),p&&p.end(1),f=1)},o(t){t&&(i=V(o,it,{duration:480})),Y(y),t&&(p=V(u,it,{})),f=0},d(t){t&&g(e),t&&i&&i.end(),y.d(t),M&&M.d(),t&&p&&p.end(),d=0,r(b)}}}function At(n){let e,o=(n[6].html??n[6].element.outerHTML)+"";return{c(){e=x("div"),w(e,"class","bp-html")},m(t,n){h(t,e,n),e.innerHTML=o},p(t,n){64&n[0]&&o!==(o=(t[6].html??t[6].element.outerHTML)+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&g(e)}}}function Ct(n){let e,o;return e=new St({T:{T:n[13]()}}),{c(){Z(e.l.u)},m(t,n){tt(e,t,n),o=1},p:t,i(t){o||(X(e.l.u,t),o=1)},o(t){Y(e.l.u,t),o=0},d(t){nt(e,t)}}}function Et(n){let e,o;return e=new Pt({T:{T:n[13]()}}),{c(){Z(e.l.u)},m(t,n){tt(e,t,n),o=1},p:t,i(t){o||(X(e.l.u,t),o=1)},o(t){Y(e.l.u,t),o=0},d(t){nt(e,t)}}}function Ot(t){let n,e;return n=new Mt({T:{T:t[13](),L:t[7]}}),{c(){Z(n.l.u)},m(t,o){tt(n,t,o),e=1},p(t,e){const o={};128&e[0]&&(o.L=t[7]),n.O(o)},i(t){e||(X(n.l.u,t),e=1)},o(t){Y(n.l.u,t),e=0},d(t){nt(n,t)}}}function Rt(t){let n,e,o,r=t[6].caption+"";return{c(){n=x("div"),w(n,"class","bp-cap")},m(t,e){h(t,n,e),n.innerHTML=r,o=1},p(t,e){(!o||64&e[0])&&r!==(r=t[6].caption+"")&&(n.innerHTML=r)},i(t){o||(e&&e.end(1),o=1)},o(t){e=V(n,it,{duration:200}),o=0},d(t){t&&g(n),t&&e&&e.end()}}}function jt(t){let n,e,o,i,s,c,l,u,a;const p=[Ot,Et,Ct,At],f=[];function d(t,n){return t[6].img?0:t[6].sources?1:t[6].iframe?2:3}e=d(t),o=f[e]=p[e](t);let m=t[6].caption&&Rt(t);return{c(){n=x("div"),o.c(),m&&m.c(),c=v(),w(n,"class","bp-inner")},m(o,r){h(o,n,r),f[e].m(n,null),m&&m.m(o,r),h(o,c,r),l=1,u||(a=[$(n,"pointerdown",t[20]),$(n,"pointerup",t[21])],u=1)},p(t,r){let i=e;e=d(t),e===i?f[e].p(t,r):(U(),Y(f[i],1,1,(()=>{f[i]=null})),W(),o=f[e],o?o.p(t,r):(o=f[e]=p[e](t),o.c()),X(o,1),o.m(n,null)),t[6].caption?m?(m.p(t,r),64&r[0]&&X(m,1)):(m=Rt(t),m.c(),X(m,1),m.m(c.parentNode,c)):m&&(U(),Y(m,1,1,(()=>{m=null})),W())},i(e){l||(X(o),R((()=>{s&&s.end(1),i=Q(n,t[12],1),i.start()})),X(m),l=1)},o(e){Y(o),i&&i.S(),s=V(n,t[12],0),Y(m),l=0},d(t){t&&g(n),f[e].d(),t&&s&&s.end(),m&&m.d(t),t&&g(c),u=0,r(a)}}}function Lt(t){let n,e,o,i,s,c=`${t[4]+1} / ${t[0].length}`;return{c(){n=x("div"),e=x("button"),o=x("button"),w(n,"class","bp-count"),w(e,"class","bp-prev"),w(e,"title","Previous"),w(e,"aria-label","Previous"),w(o,"class","bp-next"),w(o,"title","Next"),w(o,"aria-label","Next")},m(r,l){h(r,n,l),n.innerHTML=c,h(r,e,l),h(r,o,l),i||(s=[$(e,"click",t[2]),$(o,"click",t[3])],i=1)},p(t,e){17&e[0]&&c!==(c=`${t[4]+1} / ${t[0].length}`)&&(n.innerHTML=c)},d(t){t&&g(n),t&&g(e),t&&g(o),i=0,r(s)}}}function qt(t){let n,e,o=t[0]&&Nt(t);return{c(){o&&o.c(),n=v()},m(t,r){o&&o.m(t,r),h(t,n,r),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&X(o,1)):(o=Nt(t),o.c(),X(o,1),o.m(n.parentNode,n)):o&&(U(),Y(o,1,1,(()=>{o=null})),W())},i(t){e||(X(o),e=1)},o(t){Y(o),e=0},d(t){o&&o.d(t),t&&g(n)}}}function Ft(t,n,e){let o,{items:r}=n,{target:i}=n;const s=document.documentElement;let l,u,a,p,f,d,m,b,h;const g=()=>!h.img&&!h.sources&&!h.iframe;let x;const v=t=>x=t,$={},w=ct(0);c(t,w,(t=>e(10,o=t)));const y=()=>{u.onClose?.($.el,h),at.set(1),e(0,r=null),p?.focus({preventScroll:1})},k=()=>I(l-1),M=()=>I(l+1),I=t=>{m=t-l,e(4,l=z(t))},z=t=>(t+r.length)%r.length,S=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!u.noClose&&y();else if("ArrowRight"===n)M();else if("ArrowLeft"===n)k();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const{focusWrap:o=$.el}=u,r=[...o.querySelectorAll("*")].filter((t=>t.tabIndex>=0));let i=r.indexOf(n);i+=r.length+(e?-1:1),r[i%r.length].focus()}}},_=t=>{if(t.thumb instanceof HTMLImageElement)T(t,t.thumb),t.fit=globalThis.getComputedStyle(t.thumb).objectFit,t.thumb=t.thumb.src;else{let n;t.element&&(n=t.element.querySelector("img")),n&&!t.fit&&(t.fit=globalThis.getComputedStyle(n).objectFit),!n||t.thumb&&t.thumb!==n.src?t.thumb&&(n=new Image,n.src=t.thumb,n.onload=()=>{T(t,n)}):(T(t,n),t.thumb=n.src)}},T=(t,n)=>{if(n instanceof HTMLImageElement&&(!t.width||!t.height)){let e=P({width:n.naturalWidth,height:n.naturalHeight});t.width=e[0],t.height=e[1],t.scaled=1}},P=({width:t=1920,height:n=1080})=>{const{scale:e=.99}=u,o=Math.min($.w/t*e,$.h/n*e);return[Math.round(t*o),Math.round(n*o)]},N=()=>{if(r){const t=r[z(l+1)],n=r[z(l-1)];!t.preload&&A(t),!n.preload&&A(n)}},A=t=>{if(t.img){const n=document.createElement("img"),e=decodeURIComponent(t.img);return/\s+\d+[wx]/.test(e)?(n.sizes=u.sizes||P(t)[0]+"px",n.srcset=e,t.attr={sizes:n.sizes,srcset:n.srcset,...t.attr}):(n.src=e,t.attr={src:e,...t.attr}),n.preload=1,n.decode().then((()=>{t.scaled&&n.naturalWidth>0&&n.naturalHeight>0&&(t.width=n.naturalWidth,t.height=n.naturalHeight)})).catch((t=>{}))}};return t.R=t=>{"items"in t&&e(0,r=t.items),"target"in t&&e(15,i=t.target)},t.l.update=()=>{786545&t.l.v[0]&&r&&(e(6,h=r[l]),a&&u.onUpdate?.($.el,h))},[r,y,k,M,l,u,h,f,d,b,o,w,(t,n)=>a&&r?it(t,{x:(m>0?20:-20)*(n?1:-1),duration:250}):(e(18,a=n),u.intro?it(t,{y:n?10:-10}):(t=>{let n,e;if(g()){const e=t.firstChild.firstChild;n=[e.clientWidth,e.clientHeight]}else n=P(h);const o=(h.element||p).getBoundingClientRect(),r=o.left-($.w-o.width)/2,i=o.top-($.h-o.height)/2,s=o.width/n[0],c=o.height/n[1];if("cover"===h.fit){const t=Math.max(c,s),l=Math.max((n[1]-o.height/t)/2,0),u=Math.max((n[0]-o.width/t)/2,0);e=(n,e)=>`transform: translate3d(${r*e}px, ${i*e}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);\n\t\t\t\t--bp-clip-y: ${l*e}px;\n\t\t\t\t--bp-clip-x: ${u*e}px;`}else if("contain"===h.fit){const t=Math.min(c,s);e=(n,e)=>`transform: translate3d(${r*e}px, ${i*e}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);`}else e=(t,n)=>`transform: translate3d(${r*n}px, ${i*n}px, 0) scale3d(${s+t*(1-s)}, ${c+t*(1-c)}, 1);`;return{duration:480,M:rt,css:e}})(t)),()=>({j:h,H:P,B:A,D:N,q:u,F:k,next:M,close:y,J:v,zoomed:w,container:$}),t=>{let n;e(19,$.el=t,$),u.onOpen?.($.el,h),d||globalThis.addEventListener("keydown",S);const o=new ResizeObserver((t=>{n&&(e(19,$.w=t[0].contentRect.width,$),e(19,$.h=t[0].contentRect.height,$),e(7,f=769>$.w),g()||x?.(),u.onResize?.($.el,h)),n=1}));return o.observe(t),{destroy(){o.disconnect(),globalThis.removeEventListener("keydown",S),at.set(0),s.classList.remove("bp-lock"),u.onClosed?.()}}},i,t=>{e(5,u=t),e(8,d=u.inline),!d&&s.scrollHeight>s.clientHeight&&s.classList.add("bp-lock"),p=document.activeElement,e(19,$.w=i.offsetWidth,$),e(19,$.h=i===document.body?globalThis.innerHeight:i.clientHeight,$),e(7,f=769>$.w),e(4,l=u.position||0),e(0,r=[]);for(let t=0;(u.items.length||1)>t;t++){let n=u.items[t]||u.items;"dataset"in n?r.push({element:n,i:t,...n.dataset}):(n.i=t,r.push(n),n=n.element),u.el&&u.el===n&&e(4,l=t)}r.forEach(_)},I,a,$,t=>e(9,b=t.target),function(t){2!==t.button&&t.target===this&&b===this&&!u.noClose&&y()}]}class Ht extends ot{constructor(t){super(),et(this,t,Ft,qt,s,{items:0,target:15,open:16,close:1,F:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.l.$[0]}get target(){return this.l.$[15]}get open(){return this.l.$[16]}get close(){return this.l.$[1]}get F(){return this.l.$[2]}get next(){return this.l.$[3]}get setPosition(){return this.l.$[17]}}return t=>new Ht({...t,T:t})}();
