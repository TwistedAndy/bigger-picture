function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function i(t){t.forEach(o)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n}function c(n,e,o){n.l.t.push(((n,...e)=>{if(null==n){for(const t of e)t(void 0);return t}const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function l(t,n,e){return t.set(e),n}function u(n){return n&&r(n.destroy)?n.destroy:t}function a(t){const n="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}let p=()=>window.performance.now(),f=t=>requestAnimationFrame(t);const d=new Set;function m(t){d.forEach(n=>{n.c(t)||(d.delete(n),n.f())}),0!==d.size&&f(m)}function b(t){let n;return 0===d.size&&f(m),{promise:new Promise(e=>{d.add(n={c:t,f:e})}),abort(){d.delete(n)}}}function h(t,n){t.appendChild(n)}function g(t){const n=x("style");return n.textContent="/* empty */",((t,n)=>{h(t.head||t,n)})(document,n),n.sheet}function w(t,n,e){t.insertBefore(n,e||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function $(){return document.createTextNode("")}function y(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e)}function I(t,n,e){t.classList.toggle(n,!!e)}const S=new Map;let D,P=0;function z(t,n,e,o,i,r,s,c=0){const l=16.666/o;let u="{\n";for(let t=0;1>=t;t+=l){const o=n+(e-n)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(e,1-e)}}\n}`,p=`_bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${c}`,f=document,{stylesheet:d,rules:m}=S.get(f)||(t=>{const n={stylesheet:g(),rules:{}};return S.set(t,n),n})(f);m[p]||(m[p]=1,d.insertRule(`@keyframes ${p} ${a}`,d.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?b+", ":""}${p} ${o}ms linear ${i}ms 1 both`,P+=1,p}function _(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("_bp")),i=e.length-o.length;i&&(t.style.animation=o.join(", "),P-=i,P||f(()=>{P||(S.forEach(t=>{const{ownerNode:n}=t.stylesheet;n&&v(n)}),S.clear())}))}function A(t){D=t}const H=[],N=[];let O=[];const C=[],E=Promise.resolve();let T=0;function W(t){O.push(t)}const j=new Set;let L,R=0;function X(){if(0!==R)return;const t=D;do{try{for(;H.length>R;){const t=H[R];R++,A(t),q(t.l)}}catch(t){throw H.length=0,R=0,t}for(A(null),H.length=0,R=0;N.length;)N.pop()();for(let t=0;O.length>t;t+=1){const n=O[t];j.has(n)||(j.add(n),n())}O.length=0}while(H.length);for(;C.length;)C.pop()();T=0,j.clear(),A(t)}function q(t){if(null!==t.fragment){t.update(),i(t.u);const n=t.h;t.h=[-1],t.fragment&&t.fragment.p(t.$,n),t.k.forEach(W)}}function F(){return L||(L=Promise.resolve(),L.then(()=>{L=null})),L}function J(t,n,e){t.dispatchEvent(((t,n,{bubbles:e=0,cancelable:o=0}={})=>new CustomEvent(t,{detail:n,bubbles:e,cancelable:o}))(`${n?"intro":"outro"}${e}`))}const V=new Set;let K;function U(){K={r:0,c:[],p:K}}function Y(){K.r||i(K.c),K=K.p}function B(t,n){t&&t.i&&(V.delete(t),t.i(n))}function G(t,n,e,o){if(t&&t.o){if(V.has(t))return;V.add(t),K.c.push(()=>{V.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}else o&&o()}const Q={duration:0};function Z(e,o,i){const s={direction:"in"};let c,l,u=o(e,i,s),a=0,f=0;function d(){c&&_(e,c)}function m(){const{delay:o=0,duration:i=300,M:r=n,I:s=t,css:m}=u||Q;m&&(c=z(e,0,1,i,o,r,m,f++)),s(0,1);const h=p()+o,g=h+i;l&&l.abort(),a=1,W(()=>J(e,1,"start")),l=b(t=>{if(a){if(t>=g)return s(1,0),J(e,1,"end"),d(),a=0;if(t>=h){const n=r((t-h)/i);s(n,1-n)}}return a})}let h=0;return{start(){h||(h=1,_(e),r(u)?(u=u(s),F().then(m)):m())},S(){h=0},end(){a&&(d(),a=0)}}}function tt(e,o,s){const c={direction:"out"};let l,u=o(e,s,c),a=1;const f=K;let d;function m(){const{delay:o=0,duration:r=300,M:s=n,I:c=t,css:m}=u||Q;m&&(l=z(e,1,0,r,o,s,m));const h=p()+o,g=h+r;W(()=>J(e,0,"start")),"inert"in e&&(d=e.inert,e.inert=1),b(t=>{if(a){if(t>=g)return c(0,1),J(e,0,"end"),--f.r||i(f.c),0;if(t>=h){const n=s((t-h)/r);c(1-n,n)}}return a})}return f.r+=1,r(u)?F().then(()=>{u=u(c),m()}):m(),{end(t){t&&"inert"in e&&(e.inert=d),t&&u.I&&u.I(1,0),a&&(l&&_(e,l),a=0)}}}function nt(t){return void 0!==t?.length?t:Array.from(t)}function et(t,n){t.d(1),n.delete(t.key)}function ot(t){t&&t.c()}function it(t,n,e){const{fragment:s,k:c}=t.l;s&&s.m(n,e),W(()=>{const n=t.l.D.map(o).filter(r);t.l.t?t.l.t.push(...n):i(n),t.l.D=[]}),c.forEach(W)}function rt(t,n){const e=t.l;null!==e.fragment&&((t=>{const n=[],e=[];O.forEach(o=>-1===t.indexOf(o)?n.push(o):e.push(o)),e.forEach(t=>t()),O=n})(e.k),i(e.t),e.fragment&&e.fragment.d(n),e.t=e.fragment=null,e.$=[])}function st(n,e,o,r,s,c,l=null,u=[-1]){const a=D;A(n);const p=n.l={fragment:null,$:[],P:c,update:t,_:s,bound:{},D:[],t:[],A:[],u:[],k:[],context:new Map(e.context||(a?a.l.context:[])),H:{},h:u,N:0,root:e.target||a.l.root};l&&l(p.root);let f=0;p.$=o?o(n,e.P||{},(t,e,...o)=>{const i=o.length?o[0]:e;return p.$&&s(p.$[t],p.$[t]=i)&&(!p.N&&p.bound[t]&&p.bound[t](i),f&&((t,n)=>{-1===t.l.h[0]&&(H.push(t),T||(T=1,E.then(X)),t.l.h.fill(0)),t.l.h[n/31|0]|=1<<n%31})(n,t)),e}):[],p.update(),f=1,i(p.u),p.fragment=r?r(p.$):0,e.target&&(p.fragment&&p.fragment.c(),it(n,e.target,e.anchor),X()),A(a)}class ct{l=void 0;O=void 0;$destroy(){rt(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.l.H[n]||(this.l.H[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}C(t){this.O&&0!==Object.keys(t).length&&(this.l.N=1,this.O(t),this.l.N=0)}}(window._bp||(window._bp={v:new Set})).v.add("4");const lt=[];function ut(n,e=t){let o;const i=new Set;function r(t){if(r=t,((e=n)!=e?r==r:e!==r||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!lt.length;for(const t of i)t[1](),lt.push(t,n);if(t){for(let t=0;lt.length>t;t+=2)lt[t][0](lt[t+1]);lt.length=0}}var e,r}function s(t){r(t(n))}return{set:r,update:s,subscribe(c,l=t){const u=[c,l];return i.add(u),1===i.size&&(o=e(r,s)||t),c(n),()=>{i.delete(u),0===i.size&&o&&(o(),o=null)}}}}function at(t){const n=t-1;return n*n*n+1}const pt=ut(0),ft=window.matchMedia?.("(prefers-reduced-motion: reduce)").matches,dt=t=>({M:at,duration:ft?0:t}),mt=t=>!t.thumb||`url(${t.thumb})`,bt=(t,n)=>{if(n){"string"==typeof n&&(n=JSON.parse(n));for(const e in n)t.setAttribute(e,n[e])}};function ht(t,{delay:n=0,duration:e=400,M:o=at,x:i=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),l=+c.opacity,u="none"===c.transform?"":c.transform,p=l*(1-s),[f,d]=a(i),[m,b]=a(r);return{delay:n,duration:e,M:o,css(t,n){return`\n\t\t\ttransform: ${u} translate(${(1-t)*f}${d}, ${(1-t)*m}${b});\n\t\t\topacity: ${l-p*n}`}}}function gt(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map((n,e)=>gt(t[e],n));return t=>e.map(n=>n(t))}if("number"===e){const e=n-t;return n=>t+n*e}}function wt(t,o={}){const i=ut(t);let r,s=t;function c(c,l){if(null==t)return i.set(t=c),Promise.resolve();s=c;let u=r,a=0,{delay:f=0,duration:d=400,M:m=n,interpolate:h=gt}=e(e({},o),l);if(0===d)return u&&(u.abort(),u=null),i.set(t=s),Promise.resolve();const g=p()+f;let w;return r=b(n=>{if(g>n)return 1;a||(w=h(t,c),"function"==typeof d&&(d=d(t,c)),a=1),u&&(u.abort(),u=null);const e=n-g;return e>d?(i.set(t=c),0):(i.set(t=w(m(e/d))),1)}),r.promise}return{set:c,update(n,e){return c(n(s,t),e)},subscribe:i.subscribe}}function vt(t,n,e){const o=t.slice();return o[21]=n[e],o}function xt(t,n){let e,o,r,s,c;function l(){return n[12](n[21])}return{key:t,first:null,c(){e=x("button"),k(e,"title",o=n[21].caption),k(e,"aria-label",r=n[21].caption||"View image "+(n[21].i+1)),I(e,"active",n[21].i===n[1]),M(e,"background-image",n[21].thumb?`url(${n[21].thumb})`:"none"),this.first=e},m(t,o){w(t,e,o),s||(c=[y(e,"focus",n[11]),y(e,"click",l)],s=1)},p(t,i){n=t,1&i&&o!==(o=n[21].caption)&&k(e,"title",o),1&i&&r!==(r=n[21].caption||"View image "+(n[21].i+1))&&k(e,"aria-label",r),3&i&&I(e,"active",n[21].i===n[1]),1&i&&M(e,"background-image",n[21].thumb?`url(${n[21].thumb})`:"none")},d(t){t&&v(e),s=0,i(c)}}}function $t(t){let n,e,o,r,s,c,l,a,p=[],f=new Map,d=`translateX(${t[4]}px)`,m=nt(t[0]);const b=t=>t[21].i;for(let n=0;m.length>n;n+=1){let e=vt(t,m,n),o=b(e);f.set(o,p[n]=xt(o,e))}return{c(){n=x("div"),e=x("div"),o=x("div");for(let t=0;p.length>t;t+=1)p[t].c();k(o,"class","bp-thumbs-inner"),k(e,"class","bp-thumbs-outer"),M(e,"transform",d),k(n,"class","bp-thumbs")},m(i,r){w(i,n,r),h(n,e),h(e,o);for(let t=0;p.length>t;t+=1)p[t]&&p[t].m(o,null);c=1,l||(a=[u(t[10].call(null,o)),y(e,"pointerdown",t[7]),u(t[10].call(null,n)),y(n,"pointermove",t[8]),y(n,"pointerup",t[9]),y(n,"pointercancel",t[9])],l=1)},p(t,[n]){79&n&&(m=nt(t[0]),p=((t,n,e,o,r,s,c,l,u,a,p,f)=>{let d=t.length,m=s.length,b=d;const h={};for(;b--;)h[t[b].key]=b;const g=[],w=new Map,v=new Map,x=[];for(b=m;b--;){const t=f(r,s,b),o=e(t);let i=c.get(o);i?x.push(()=>i.p(t,n)):(i=a(o,t),i.c()),w.set(o,g[b]=i),o in h&&v.set(o,Math.abs(b-h[o]))}const $=new Set,y=new Set;function k(t){B(t,1),t.m(l,p),c.set(t.key,t),p=t.first,m--}for(;d&&m;){const n=g[m-1],e=t[d-1],o=n.key,i=e.key;n===e?(p=n.first,d--,m--):w.has(i)?!c.has(o)||$.has(o)?k(n):y.has(i)?d--:v.get(o)>v.get(i)?(y.add(o),k(n)):($.add(i),d--):(u(e,c),d--)}for(;d--;){const n=t[d];w.has(n.key)||u(n,c)}for(;m;)k(g[m-1]);return i(x),g})(p,n,b,0,t,m,f,o,et,xt,null,vt)),16&n&&d!==(d=`translateX(${t[4]}px)`)&&M(e,"transform",d)},i(t){c||(W(()=>{c&&(s&&s.end(1),r=Z(n,ht,dt(500)),r.start())}),c=1)},o(t){r&&r.S(),s=tt(n,ht,dt(500)),c=0},d(t){t&&v(n);for(let t=0;p.length>t;t+=1)p[t].d();t&&s&&s.end(),l=0,i(a)}}}function yt(t,n,e){let o,i,r,s,u,a,p,{items:f}=n,{position:d}=n,{setPosition:m}=n,b=0,h=wt(0,dt(250));c(t,h,t=>e(4,o=t));let g=[];const w=t=>{const n=t||r?.querySelector(".active");if(!n)return;let{left:e,right:i,width:c}=n.getBoundingClientRect(),{offsetLeft:u}=n;e+c>s?l(h,o=v(-u-c+s-3),o):0>i-c&&l(h,o=v(3-u),o),b=o},v=t=>(0>t?s-i-1>t&&(t=s-i-1):t=0,t);return t.O=t=>{"items"in t&&e(0,f=t.items),"position"in t&&e(1,d=t.position),"setPosition"in t&&e(2,m=t.setPosition)},t.l.update=()=>{2&t.l.h&&void 0!==d&&setTimeout(()=>w())},[f,d,m,p,o,h,w,t=>{s>i||(u=1,a=t.clientX)},t=>{if(u){let n=-(a-t.clientX);p?(h.set(v(b+n),{duration:0}),g.push(t.clientX)):e(3,p=Math.abs(n)>5)}},()=>{if(p&&(g=g.slice(-3),g.length>1)){let t=g[0]-g.pop();Math.abs(t)>5&&l(h,o=v(o-5*t),o)}g=[],u=e(3,p=0),b=o},t=>{r=t;const n=new ResizeObserver(t=>{for(const n of t)n.target===r?s=n.contentRect.width:i=n.contentRect.width});return n.observe(t),{destroy(){n.unobserve(t)}}},t=>w(t.target),t=>!p&&m(t.i)]}class kt extends ct{constructor(t){super(),st(this,t,yt,$t,s,{items:0,position:1,setPosition:2})}}function Mt(t){let n,e,o;return{c(){n=x("div"),n.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',k(n,"class","bp-load"),M(n,"background-image",mt(t[0]))},m(t,e){w(t,n,e),o=1},p(t,e){1&e&&M(n,"background-image",mt(t[0]))},i(t){o||(e&&e.end(1),o=1)},o(t){t&&(e=tt(n,ht,dt(500))),o=0},d(t){t&&v(n),t&&e&&e.end()}}}function It(n){let e,o;return{c(){e=x("div"),k(e,"class","bp-load"),M(e,"background-image",mt(n[0]))},m(t,n){w(t,e,n)},p(t,n){1&n&&M(e,"background-image",mt(t[0]))},i(t){o||W(()=>{o=Z(e,ht,dt(500)),o.start()})},o:t,d(t){t&&v(e)}}}function St(t){let n,e,o=!t[1]&&Mt(t),i=t[2]&&It(t);return{c(){o&&o.c(),n=$(),i&&i.c(),e=$()},m(t,r){o&&o.m(t,r),w(t,n,r),i&&i.m(t,r),w(t,e,r)},p(t,[r]){t[1]?o&&(U(),G(o,1,1,()=>{o=null}),Y()):o?(o.p(t,r),2&r&&B(o,1)):(o=Mt(t),o.c(),B(o,1),o.m(n.parentNode,n)),t[2]?i?(i.p(t,r),4&r&&B(i,1)):(i=It(t),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i(t){B(o),B(i)},o(t){G(o)},d(t){t&&(v(n),v(e)),o&&o.d(t),i&&i.d(t)}}}function Dt(t,n,e){let o;c(t,pt,t=>e(2,o=t));let{T:i}=n,{loaded:r}=n;return t.O=t=>{"T"in t&&e(0,i=t.T),"loaded"in t&&e(1,r=t.loaded)},[i,r,o]}class Pt extends ct{constructor(t){super(),st(this,t,Dt,St,s,{T:0,loaded:1})}}function zt(t){let n,e,o,r;return{c(){n=x("img"),k(n,"sizes",e=t[9].sizes||t[1]+"px"),k(n,"alt",t[8].alt)},m(e,i){w(e,n,i),o||(r=[u(t[21].call(null,n)),y(n,"error",t[29])],o=1)},p(t,o){2&o[0]&&e!==(e=t[9].sizes||t[1]+"px")&&k(n,"sizes",e)},d(t){t&&v(n),o=0,i(r)}}}function _t(t){let n,e;return n=new Pt({P:{T:t[8],loaded:t[2]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function At(t){let n,e,o,r,s,c,l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`,a=t[2]&&zt(t),p=t[3]&&_t(t);return{c(){n=x("div"),e=x("div"),a&&a.c(),o=$(),p&&p.c(),k(e,"class","bp-img"),M(e,"width",t[0][0]+"px"),M(e,"height",t[0][1]+"px"),I(e,"bp-drag",t[4]),I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]),M(e,"background-image",mt(t[8])),M(e,"transform",l),k(n,"class","bp-img-wrap"),I(n,"bp-close",t[5])},m(i,l){w(i,n,l),h(n,e),a&&a.m(e,null),h(e,o),p&&p.m(e,null),r=1,s||(c=[u(t[20].call(null,e)),y(n,"wheel",t[15]),y(n,"pointerdown",t[16]),y(n,"pointermove",t[17]),y(n,"pointerup",t[19]),y(n,"pointercancel",t[18])],s=1)},p(t,i){t[2]?a?a.p(t,i):(a=zt(t),a.c(),a.m(e,o)):a&&(a.d(1),a=null),t[3]?p?(p.p(t,i),8&i[0]&&B(p,1)):(p=_t(t),p.c(),B(p,1),p.m(e,null)):p&&(U(),G(p,1,1,()=>{p=null}),Y()),(!r||1&i[0])&&M(e,"width",t[0][0]+"px"),(!r||1&i[0])&&M(e,"height",t[0][1]+"px"),(!r||16&i[0])&&I(e,"bp-drag",t[4]),(!r||4161&i[0])&&I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]);const s=1&i[0];(1&i[0]||s)&&M(e,"background-image",mt(t[8])),(129&i[0]&&l!==(l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`)||s)&&M(e,"transform",l),(!r||32&i[0])&&I(n,"bp-close",t[5])},i(t){r||(B(p),r=1)},o(t){G(p),r=0},d(t){t&&v(n),a&&a.d(),p&&p.d(),s=0,i(c)}}}function Ht(t,n,e){let o,i,r,s;c(t,pt,t=>e(28,r=t));let{P:l}=n,{W:u}=n,{containerWidth:a}=n,{containerHeight:p}=n,{activeDimensions:f}=n,{T:d,j:m,L:b,next:h,zoomed:g,container:w}=l;c(t,g,t=>e(27,o=t));let v,x,$,y,k,M,I,S,D,P,z,_=d.maxZoom||m.maxZoom||10,A=f[0],H=0,N=+d.width;const O=[],C=new Map,E=wt(f,dt(500));c(t,E,t=>e(0,s=t));const T=wt([0,0],dt(500));c(t,T,t=>e(7,i=t));const W=([t,n],o=s)=>{const i=(o[0]-a)/2,r=(o[1]-p)/2;return 0>i?t=0:t>i?u?(t=k?i+(t-i)/10:i)>i+20&&e(4,k=b()):t=i:-i>t&&(u?-i-20>(t=k?-i-(-i-t)/10:-i)&&e(4,k=h()):t=-i),0>r?n=0:n>r?n=r:-r>n&&(n=-r),[t,n]};function j(t=_,n){if(r)return;const o=f[0]*_;let c=s[0]+s[0]*t,l=s[1]+s[1]*t;if(t>0)c>o&&(c=o,l=f[1]*_),c>N&&(c=N,l=+d.height);else if(f[0]>c)return E.set(f),T.set([0,0]);let{x:u,y:a,width:p,height:m}=y.getBoundingClientRect();const b=n?n.clientX-u-p/2:0,h=n?n.clientY-a-m/2:0;u=c/p*-b+b,a=l/m*-h+h;const g=[c,l];E.set(g).then(()=>{e(1,A=Math.round(Math.max(A,c)))}),T.set(W([i[0]+u,i[1]+a],g))}Object.defineProperty(d,"zoom",{configurable:1,get(){return o},set(t){return j(t?_:-_)}});const L=t=>C.delete(t.pointerId);return t.O=t=>{"W"in t&&e(23,u=t.W),"containerWidth"in t&&e(24,a=t.containerWidth),"containerHeight"in t&&e(25,p=t.containerHeight),"activeDimensions"in t&&e(26,f=t.activeDimensions)},t.l.update=()=>{if(67108865&t.l.h[0]&&g.set(s[0]-10>f[0]),469762048&t.l.h[0]&&r&&o&&!m.intro){const t=dt(500);T.set([0,0],t),E.set(f,t),e(5,z=1)}75497472&t.l.h[0]&&(!f||!m.inline&&u||(E.set(f),T.set([0,0])))},[s,A,v,x,k,z,N,i,d,m,g,w,_,E,T,t=>{m.inline&&!o||(t.preventDefault(),j(t.deltaY/-300,t))},t=>{2!==t.button&&(t.preventDefault(),e(4,k=1),C.set(t.pointerId,t),I=t.clientX,S=t.clientY,D=i[0],P=i[1])},t=>{if(C.size>1)return e(4,k=0),m.noPinch?.(w)||(t=>{const[n,e]=C.set(t.pointerId,t).values(),o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);$=$||{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2},j(((H||o)-o)/-35,$),H=o})(t);if(!k)return;let n=t.clientX,i=t.clientY;M=O.push({x:n,y:i})>2,n-=I,i-=S,o||(-90>i&&e(4,k=!m.noClose&&l.close()),30>Math.abs(i)&&(n>40&&e(4,k=b()),-40>n&&e(4,k=h()))),o&&M&&!r&&T.set(W([D+n,P+i]),{duration:0})},L,function(t){if(L(t),$&&(e(4,k=H=0),$=C.size?$:null),k){if(e(4,k=0),t.target===this&&!m.noClose)return l.close();if(M){const[t,n,e]=O.slice(-3);Math.hypot(n.x-e.x,n.y-e.y)>5&&T.set(W([i[0]-5*(t.x-e.x),i[1]-5*(t.y-e.y)]))}else m.onImageClick?.(w,d)||j(o?-_:_,t);M=0,O.length=0}},t=>{y=t,l.R(d).then(()=>{e(6,N=+d.width),e(2,v=1),l.X()}),setTimeout(()=>{e(3,x=!v)},250)},t=>{bt(t,d.attr)},l,u,a,p,f,o,r,t=>m.onError?.(w,d,t)]}let Nt=class extends ct{constructor(t){super(),st(this,t,Ht,At,s,{P:22,W:23,containerWidth:24,containerHeight:25,activeDimensions:26},null,[-1,-1])}};function Ot(t){let n,e,o,r,s,c,l=t[0][0]+"px",a=t[0][1]+"px";return o=new Pt({P:{T:t[2],loaded:t[1]}}),{c(){n=x("div"),e=x("iframe"),ot(o.l.fragment),k(e,"allow","autoplay; fullscreen"),k(e,"title",t[2].title),k(n,"class","bp-iframe"),M(n,"width",l),M(n,"height",a)},m(i,l){w(i,n,l),h(n,e),it(o,n,null),r=1,s||(c=[u(t[3].call(null,e)),y(e,"load",t[4])],s=1)},p(t,[e]){const i={};2&e&&(i.loaded=t[1]),o.C(i),1&e&&l!==(l=t[0][0]+"px")&&M(n,"width",l),1&e&&a!==(a=t[0][1]+"px")&&M(n,"height",a)},i(t){r||(B(o.l.fragment,t),r=1)},o(t){G(o.l.fragment,t),r=0},d(t){t&&v(n),rt(o),s=0,i(c)}}}function Ct(t,n,e){const{T:o}=props;let i,{activeDimensions:r}=n;return t.O=t=>{"activeDimensions"in t&&e(0,r=t.activeDimensions)},[r,i,o,t=>{bt(t,o.attr),t.src=o.iframe},()=>e(1,i=1)]}class Et extends ct{constructor(t){super(),st(this,t,Ct,Ot,s,{activeDimensions:0})}}function Tt(t){let n,e,o,i,r,s=t[0][0]+"px",c=t[0][1]+"px";return e=new Pt({P:{T:t[2],loaded:t[1]}}),{c(){n=x("div"),ot(e.l.fragment),k(n,"class","bp-vid"),M(n,"width",s),M(n,"height",c),M(n,"background-image",mt(t[2]))},m(s,c){w(s,n,c),it(e,n,null),o=1,i||(r=u(t[3].call(null,n)),i=1)},p(t,[o]){const i={};2&o&&(i.loaded=t[1]),e.C(i),1&o&&s!==(s=t[0][0]+"px")&&M(n,"width",s),1&o&&c!==(c=t[0][1]+"px")&&M(n,"height",c)},i(t){o||(B(e.l.fragment,t),o=1)},o(t){G(e.l.fragment,t),o=0},d(t){t&&v(n),rt(e),i=0,r()}}}function Wt(t,n,e){let o,{P:i}=n,{activeDimensions:r}=n;const{T:s,j:c,container:l}=i;return t.O=t=>{"activeDimensions"in t&&e(0,r=t.activeDimensions)},[r,o,s,t=>{let n;const i=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e));for(const o of e){n||(n=document.createElement(o.type?.includes("audio")?"audio":"video"),bt(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}),bt(n,s.attr));const e=document.createElement(t);bt(e,o),"source"===t&&(e.onError=t=>c.onError?.(l,s,t)),n.append(e)}};i("source",s.sources),i("track",s.tracks||[]),n.oncanplay=()=>e(1,o=1),t.append(n)},i]}class jt extends ct{constructor(t){super(),st(this,t,Wt,Tt,s,{P:4,activeDimensions:0})}}function Lt(n){let e,o,r,c,l,a,p,f,d,m,b,g,$,M,S=n[8].i,D=Vt(n),P=n[8].caption&&Kt(n),z=n[0].length>1&&Ut(n),_=n[6].thumbs&&n[0].length>1&&Yt(n);return{c(){e=x("div"),o=x("div"),l=x("div"),a=x("div"),D.c(),p=x("div"),P&&P.c(),f=x("div"),d=x("button"),z&&z.c(),_&&_.c(),k(o,"class","bp-overlay"),k(p,"class","bp-ruler"),k(a,"class","bp-inner"),k(l,"class","bp-stage"),k(d,"class","bp-x"),k(d,"title","Close"),k(d,"aria-label","Close"),k(f,"class","bp-controls"),k(e,"class","bp-wrap"),I(e,"bp-zoomed",n[14]),I(e,"bp-inline",n[10]),I(e,"bp-small",n[9]),I(e,"bp-noclose",n[6].noClose)},m(t,i){w(t,e,i),h(e,o),h(e,l),h(l,a),D.m(a,null),h(a,p),P&&P.m(l,null),h(e,f),h(f,d),z&&z.m(f,null),_&&_.m(e,null),g=1,$||(M=[u(n[19].call(null,p)),y(d,"click",n[1]),u(n[18].call(null,e))],$=1)},p(n,o){256&o[0]&&s(S,S=n[8].i)?(U(),G(D,1,1,t),Y(),D=Vt(n),D.c(),B(D,1),D.m(a,p)):D.p(n,o),n[8].caption?P?(P.p(n,o),256&o[0]&&B(P,1)):(P=Kt(n),P.c(),B(P,1),P.m(l,null)):P&&(U(),G(P,1,1,()=>{P=null}),Y()),n[0].length>1?z?z.p(n,o):(z=Ut(n),z.c(),z.m(f,null)):z&&(z.d(1),z=null),n[6].thumbs&&n[0].length>1?_?(_.p(n,o),65&o[0]&&B(_,1)):(_=Yt(n),_.c(),B(_,1),_.m(e,null)):_&&(U(),G(_,1,1,()=>{_=null}),Y()),(!g||16384&o[0])&&I(e,"bp-zoomed",n[14]),(!g||1024&o[0])&&I(e,"bp-inline",n[10]),(!g||512&o[0])&&I(e,"bp-small",n[9]),(!g||64&o[0])&&I(e,"bp-noclose",n[6].noClose)},i(t){g||(W(()=>{g&&(c&&c.end(1),r=Z(o,ht,dt(500)),r.start())}),B(D),B(P),W(()=>{g&&(b&&b.end(1),m=Z(f,ht,dt(500)),m.start())}),B(_),g=1)},o(t){r&&r.S(),c=tt(o,ht,dt(500)),G(D),G(P),m&&m.S(),b=tt(f,ht,dt(500)),G(_),g=0},d(t){t&&v(e),t&&c&&c.end(),D.d(t),P&&P.d(),z&&z.d(),t&&b&&b.end(),_&&_.d(),$=0,i(M)}}}function Rt(t){let n,e,o,i;const r=[Jt,Ft,qt,Xt],s=[];function c(t,n){return t[8].img?0:t[8].sources?1:t[8].iframe?2:3}return n=c(t),e=s[n]=r[n](t),{c(){e.c(),o=$()},m(t,e){s[n].m(t,e),w(t,o,e),i=1},p(t,i){let l=n;n=c(t),n===l?s[n].p(t,i):(U(),G(s[l],1,1,()=>{s[l]=null}),Y(),e=s[n],e?e.p(t,i):(e=s[n]=r[n](t),e.c()),B(e,1),e.m(o.parentNode,o))},i(t){i||(B(e),i=1)},o(t){G(e),i=0},d(t){t&&v(o),s[n].d(t)}}}function Xt(n){let e,o=(n[8].html??n[8].element.outerHTML)+"";return{c(){e=x("div"),k(e,"class","bp-html")},m(t,n){w(t,e,n),e.innerHTML=o},p(t,n){256&n[0]&&o!==(o=(t[8].html??t[8].element.outerHTML)+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&v(e)}}}function qt(t){let n,e;return n=new Et({P:{P:t[17](),activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};8192&e[0]&&(o.activeDimensions=t[13]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Ft(t){let n,e;return n=new jt({P:{P:t[17](),activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};8192&e[0]&&(o.activeDimensions=t[13]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Jt(t){let n,e;return n=new Nt({P:{P:t[17](),W:t[9],containerWidth:t[7],containerHeight:t[12],activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};512&e[0]&&(o.W=t[9]),128&e[0]&&(o.containerWidth=t[7]),4096&e[0]&&(o.containerHeight=t[12]),8192&e[0]&&(o.activeDimensions=t[13]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Vt(t){let n,e,o,r,s,c,l=t[7]>0&&t[12]>0&&Rt(t);return{c(){n=x("div"),l&&l.c(),k(n,"class","bp-slide")},m(e,o){w(e,n,o),l&&l.m(n,null),r=1,s||(c=[y(n,"pointerdown",t[24]),y(n,"pointerup",t[25])],s=1)},p(t,e){t[7]>0&&t[12]>0?l?(l.p(t,e),4224&e[0]&&B(l,1)):(l=Rt(t),l.c(),B(l,1),l.m(n,null)):l&&(U(),G(l,1,1,()=>{l=null}),Y())},i(i){r||(B(l),W(()=>{r&&(o&&o.end(1),e=Z(n,t[16],1),e.start())}),r=1)},o(i){G(l),e&&e.S(),o=tt(n,t[16],0),r=0},d(t){t&&v(n),l&&l.d(),t&&o&&o.end(),s=0,i(c)}}}function Kt(t){let n,e,o,i,r=t[8].caption+"";return{c(){n=x("div"),k(n,"class","bp-caption")},m(t,e){w(t,n,e),n.innerHTML=r,i=1},p(t,e){(!i||256&e[0])&&r!==(r=t[8].caption+"")&&(n.innerHTML=r)},i(t){i||(W(()=>{i&&(o&&o.end(1),e=Z(n,ht,dt(500)),e.start())}),i=1)},o(t){e&&e.S(),o=tt(n,ht,dt(500)),i=0},d(t){t&&v(n),t&&o&&o.end()}}}function Ut(t){let n,e,o,r,s,c=`${t[5]+1} / ${t[0].length}`;return{c(){n=x("div"),e=x("button"),o=x("button"),k(n,"class","bp-count"),k(e,"class","bp-prev"),k(e,"title","Previous"),k(e,"aria-label","Previous"),k(o,"class","bp-next"),k(o,"title","Next"),k(o,"aria-label","Next")},m(i,l){w(i,n,l),n.innerHTML=c,w(i,e,l),w(i,o,l),r||(s=[y(e,"click",t[2]),y(o,"click",t[3])],r=1)},p(t,e){33&e[0]&&c!==(c=`${t[5]+1} / ${t[0].length}`)&&(n.innerHTML=c)},d(t){t&&(v(n),v(e),v(o)),r=0,i(s)}}}function Yt(t){let n,e;return n=new kt({P:{position:t[5],setPosition:t[4],items:t[0]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};32&e[0]&&(o.position=t[5]),1&e[0]&&(o.items=t[0]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Bt(t){let n,e,o=t[0]&&Lt(t);return{c(){o&&o.c(),n=$()},m(t,i){o&&o.m(t,i),w(t,n,i),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&B(o,1)):(o=Lt(t),o.c(),B(o,1),o.m(n.parentNode,n)):o&&(U(),G(o,1,1,()=>{o=null}),Y())},i(t){e||(B(o),e=1)},o(t){G(o),e=0},d(t){t&&v(n),o&&o.d(t)}}}function Gt(t,n,e){let o,{items:i}=n,{target:r}=n;const s=document.documentElement;let l,u,a,p,f,d,m,b,h,g,w,v,x,$;const y=ut(0);c(t,y,t=>e(14,o=t));const k=()=>{u.onClose?.(g,x),pt.set(1),e(0,i=null),p?.focus({preventScroll:1})},M=()=>S(l-1),I=()=>S(l+1),S=t=>{m=t-l,e(5,l=D(t))},D=t=>(t+i.length)%i.length,P=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!u.noClose&&k();else if("ArrowRight"===n)I();else if("ArrowLeft"===n)M();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const{focusWrap:o=g}=u,i=[...o.querySelectorAll("*")].filter(t=>t.tabIndex>=0);let r=i.indexOf(n);r+=i.length+(e?-1:1),i[r%i.length].focus()}}},z=t=>{if(t.thumb instanceof HTMLImageElement)_(t,t.thumb),t.fit=window.getComputedStyle(t.thumb).objectFit,t.thumb=t.thumb.src;else{let n;t.element&&(n=t.element.querySelector("img")),n&&!t.fit&&(t.fit=window.getComputedStyle(n).objectFit),!n||t.thumb&&t.thumb!==n.src?t.thumb&&(n=new Image,n.src=t.thumb,n.onload=()=>{_(t,n)}):(_(t,n),t.thumb=n.src)}},_=(t,n)=>{if(n instanceof HTMLImageElement&&(!t.width||!t.height)){let o=A({width:n.naturalWidth,height:n.naturalHeight});t.width=o[0],t.height=o[1],t.scaled=1,e(13,$=o)}},A=({width:t=1920,height:n=1080})=>{const e=g?parseInt(window.getComputedStyle(g).getPropertyValue("--bp-stage-gap")):0,{scale:o=1}=u,i=Math.min((w-2*e)/t*o,(v-2*e)/n*o);return[Math.round(t*i),Math.round(n*i)]},H=()=>{if(i){const t=i[D(l+1)],n=i[D(l-1)];!t.preload&&N(t),!n.preload&&N(n)}},N=t=>{if(t.img){const n=document.createElement("img"),e=decodeURIComponent(t.img);return/\s+\d+[wx]/.test(e)?(n.sizes=u.sizes||A(t)[0]+"px",n.srcset=e,t.attr={sizes:n.sizes,srcset:n.srcset,...t.attr}):(n.src=e,t.attr={src:e,...t.attr}),n.preload=1,n.decode().then(()=>{t.scaled&&n.naturalWidth>0&&n.naturalHeight>0&&(t.width=n.naturalWidth,t.height=n.naturalHeight)}).catch(t=>{})}};return t.O=t=>{"items"in t&&e(0,i=t.items),"target"in t&&e(20,r=t.target)},t.l.update=()=>{12583265&t.l.h[0]&&i&&(e(8,x=i[l]),e(13,$=A(x)),a&&u.onUpdate?.(g,x)),128&t.l.h[0]&&e(9,f=769>w)},[i,k,M,I,S,l,u,w,x,f,d,b,v,$,o,y,(t,n)=>a&&i?ht(t,{...dt(250),x:(m>0?20:-20)*(n?1:-1)}):(e(22,a=n),u.intro?ht(t,{y:n?10:-10}):(t=>{let n,o;if(h&&(e(7,w=h.clientWidth),e(12,v=h.clientHeight)),x.img||x.sources||x.iframe)n=$;else{const e=t.firstChild.firstChild;n=[e.clientWidth,e.clientHeight]}const i=(x.element||p).getBoundingClientRect(),r=i.left-(w-i.width)/2,s=i.top-(v-i.height)/2,c=i.width/n[0],l=i.height/n[1];if("cover"===x.fit){const t=Math.max(l,c),e=Math.max((n[1]-i.height/t)/2,0),u=Math.max((n[0]-i.width/t)/2,0);o=(n,o)=>`transform: translate3d(${r*o}px, ${s*o}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);\n\t\t\t\t--bp-clip-y: ${e*o}px;\n\t\t\t\t--bp-clip-x: ${u*o}px;`}else if("contain"===x.fit){const t=Math.min(l,c);o=(n,e)=>`transform: translate3d(${r*e}px, ${s*e}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);`}else o=(t,n)=>`transform: translate3d(${r*n}px, ${s*n}px, 0) scale3d(${c+t*(1-c)}, ${l+t*(1-l)}, 1);`;return{...dt(500),css:o}})(t)),()=>({q:A,X:H,T:x,R:N,container:g,zoomed:y,close:k,j:u,L:M,next:I}),t=>(e(23,g=t),u.onOpen?.(g,x),d||window.addEventListener("keydown",P),{destroy(){window.removeEventListener("keydown",P),pt.set(0),s.classList.remove("bp-lock"),u.onClosed?.()}}),t=>{h=t;const n=new ResizeObserver(t=>{const n=t[0].contentRect;n.width===w&&n.height===v||(e(7,w=n.width),e(12,v=n.height),e(13,$=A(x))),u.onResize?.(g,x)});return n.observe(t),{destroy(){n.disconnect()}}},r,t=>{e(6,u=t),e(10,d=u.inline),!d&&s.scrollHeight>s.clientHeight&&s.classList.add("bp-lock"),p=document.activeElement,r&&(e(23,g=r),e(7,w=r.offsetWidth),e(12,v=r===document.body?window.innerHeight:r.clientHeight)),e(5,l=u.position||0),e(0,i=[]);for(let t=0;(u.items.length||1)>t;t++){let n=u.items[t]||u.items;"dataset"in n?i.push({element:n,i:t,...n.dataset}):(n.i=t,i.push(n),n=n.element),u.el&&u.el===n&&e(5,l=t)}i.forEach(z)},a,g,t=>e(11,b=t.target),function(t){2!==t.button&&t.target===this&&b===this&&!u.noClose&&k()}]}class Qt extends ct{constructor(t){super(),st(this,t,Gt,Bt,s,{items:0,target:20,open:21,close:1,L:2,next:3,setPosition:4},null,[-1,-1])}get items(){return this.l.$[0]}get target(){return this.l.$[20]}get open(){return this.l.$[21]}get close(){return this.l.$[1]}get L(){return this.l.$[2]}get next(){return this.l.$[3]}get setPosition(){return this.l.$[4]}}function Zt(t){return"object"!=typeof t&&(t={target:document.body}),new Qt({...t,P:t})}export{Zt as default};
