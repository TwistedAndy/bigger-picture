function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function i(t){t.forEach(o)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n}function c(n,e,o){n.l.t.push(((n,...e)=>{if(null==n){for(const t of e)t(void 0);return t}const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function l(t,n,e){return t.set(e),n}function u(n){return n&&r(n.destroy)?n.destroy:t}function a(t){const n="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}let p=()=>globalThis.performance.now(),f=t=>requestAnimationFrame(t);const d=new Set;function m(t){d.forEach(n=>{n.c(t)||(d.delete(n),n.f())}),0!==d.size&&f(m)}function b(t){let n;return 0===d.size&&f(m),{promise:new Promise(e=>{d.add(n={c:t,f:e})}),abort(){d.delete(n)}}}function h(t,n){t.appendChild(n)}function g(t){const n=w("style");return n.textContent="/* empty */",((t,n)=>{h(t.head||t,n)})(document,n),n.sheet}function v(t,n,e){t.insertBefore(n,e||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function $(){return document.createTextNode("")}function y(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e)}function I(t,n,e){t.classList.toggle(n,!!e)}const S=new Map;let T,z=0;function P(t,n,e,o,i,r,s,c=0){const l=16.666/o;let u="{\n";for(let t=0;1>=t;t+=l){const o=n+(e-n)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(e,1-e)}}\n}`,p=`_bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${c}`,f=document,{stylesheet:d,rules:m}=S.get(f)||(t=>{const n={stylesheet:g(),rules:{}};return S.set(t,n),n})(f);m[p]||(m[p]=1,d.insertRule(`@keyframes ${p} ${a}`,d.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?b+", ":""}${p} ${o}ms linear ${i}ms 1 both`,z+=1,p}function _(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("_bp")),i=e.length-o.length;i&&(t.style.animation=o.join(", "),z-=i,z||f(()=>{z||(S.forEach(t=>{const{ownerNode:n}=t.stylesheet;n&&x(n)}),S.clear())}))}function N(t){T=t}const O=[],A=[];let R=[];const C=[],E=Promise.resolve();let H=0;function L(t){R.push(t)}const j=new Set;let F,W=0;function X(){if(0!==W)return;const t=T;do{try{for(;O.length>W;){const t=O[W];W++,N(t),q(t.l)}}catch(t){throw O.length=0,W=0,t}for(N(null),O.length=0,W=0;A.length;)A.pop()();for(let t=0;R.length>t;t+=1){const n=R[t];j.has(n)||(j.add(n),n())}R.length=0}while(O.length);for(;C.length;)C.pop()();H=0,j.clear(),N(t)}function q(t){if(null!==t.fragment){t.update(),i(t.u);const n=t.h;t.h=[-1],t.fragment&&t.fragment.p(t.$,n),t.k.forEach(L)}}function J(){return F||(F=Promise.resolve(),F.then(()=>{F=null})),F}function V(t,n,e){t.dispatchEvent(((t,n,{bubbles:e=0,cancelable:o=0}={})=>new CustomEvent(t,{detail:n,bubbles:e,cancelable:o}))(`${n?"intro":"outro"}${e}`))}const D=new Set;let K;function U(){K={r:0,c:[],p:K}}function Y(){K.r||i(K.c),K=K.p}function B(t,n){t&&t.i&&(D.delete(t),t.i(n))}function G(t,n,e,o){if(t&&t.o){if(D.has(t))return;D.add(t),K.c.push(()=>{D.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}else o&&o()}const Q={duration:0};function Z(e,o,i){const s={direction:"in"};let c,l,u=o(e,i,s),a=0,f=0;function d(){c&&_(e,c)}function m(){const{delay:o=0,duration:i=300,M:r=n,I:s=t,css:m}=u||Q;m&&(c=P(e,0,1,i,o,r,m,f++)),s(0,1);const h=p()+o,g=h+i;l&&l.abort(),a=1,L(()=>V(e,1,"start")),l=b(t=>{if(a){if(t>=g)return s(1,0),V(e,1,"end"),d(),a=0;if(t>=h){const n=r((t-h)/i);s(n,1-n)}}return a})}let h=0;return{start(){h||(h=1,_(e),r(u)?(u=u(s),J().then(m)):m())},S(){h=0},end(){a&&(d(),a=0)}}}function tt(e,o,s){const c={direction:"out"};let l,u=o(e,s,c),a=1;const f=K;let d;function m(){const{delay:o=0,duration:r=300,M:s=n,I:c=t,css:m}=u||Q;m&&(l=P(e,1,0,r,o,s,m));const h=p()+o,g=h+r;L(()=>V(e,0,"start")),"inert"in e&&(d=e.inert,e.inert=1),b(t=>{if(a){if(t>=g)return c(0,1),V(e,0,"end"),--f.r||i(f.c),0;if(t>=h){const n=s((t-h)/r);c(1-n,n)}}return a})}return f.r+=1,r(u)?J().then(()=>{u=u(c),m()}):m(),{end(t){t&&"inert"in e&&(e.inert=d),t&&u.I&&u.I(1,0),a&&(l&&_(e,l),a=0)}}}function nt(t){return void 0!==t?.length?t:Array.from(t)}function et(t,n){t.d(1),n.delete(t.key)}function ot(t){t&&t.c()}function it(t,n,e){const{fragment:s,k:c}=t.l;s&&s.m(n,e),L(()=>{const n=t.l.T.map(o).filter(r);t.l.t?t.l.t.push(...n):i(n),t.l.T=[]}),c.forEach(L)}function rt(t,n){const e=t.l;null!==e.fragment&&((t=>{const n=[],e=[];R.forEach(o=>-1===t.indexOf(o)?n.push(o):e.push(o)),e.forEach(t=>t()),R=n})(e.k),i(e.t),e.fragment&&e.fragment.d(n),e.t=e.fragment=null,e.$=[])}function st(n,e,o,r,s,c,l=null,u=[-1]){const a=T;N(n);const p=n.l={fragment:null,$:[],P:c,update:t,_:s,bound:{},T:[],t:[],N:[],u:[],k:[],context:new Map(e.context||(a?a.l.context:[])),O:{},h:u,A:0,root:e.target||a.l.root};l&&l(p.root);let f=0;p.$=o?o(n,e.P||{},(t,e,...o)=>{const i=o.length?o[0]:e;return p.$&&s(p.$[t],p.$[t]=i)&&(!p.A&&p.bound[t]&&p.bound[t](i),f&&((t,n)=>{-1===t.l.h[0]&&(O.push(t),H||(H=1,E.then(X)),t.l.h.fill(0)),t.l.h[n/31|0]|=1<<n%31})(n,t)),e}):[],p.update(),f=1,i(p.u),p.fragment=r?r(p.$):0,e.target&&(p.fragment&&p.fragment.c(),it(n,e.target,e.anchor),X()),N(a)}class ct{l=void 0;R=void 0;$destroy(){rt(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.l.O[n]||(this.l.O[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}C(t){this.R&&0!==Object.keys(t).length&&(this.l.A=1,this.R(t),this.l.A=0)}}(globalThis._bp||(globalThis._bp={v:new Set})).v.add("4");const lt=[];function ut(n,e=t){let o;const i=new Set;function r(t){if(r=t,((e=n)!=e?r==r:e!==r||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!lt.length;for(const t of i)t[1](),lt.push(t,n);if(t){for(let t=0;lt.length>t;t+=2)lt[t][0](lt[t+1]);lt.length=0}}var e,r}function s(t){r(t(n))}return{set:r,update:s,subscribe(c,l=t){const u=[c,l];return i.add(u),1===i.size&&(o=e(r,s)||t),c(n),()=>{i.delete(u),0===i.size&&o&&(o(),o=null)}}}}function at(t){const n=t-1;return n*n*n+1}const pt=ut(0),ft=globalThis.matchMedia?.("(prefers-reduced-motion: reduce)").matches,dt=t=>({M:at,duration:ft?0:t}),mt=t=>!t.thumb||`url(${t.thumb})`,bt=(t,n)=>{if(n){"string"==typeof n&&(n=JSON.parse(n));for(const e in n)t.setAttribute(e,n[e])}};function ht(t,{delay:n=0,duration:e=400,M:o=at,x:i=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),l=+c.opacity,u="none"===c.transform?"":c.transform,p=l*(1-s),[f,d]=a(i),[m,b]=a(r);return{delay:n,duration:e,M:o,css(t,n){return`\n\t\t\ttransform: ${u} translate(${(1-t)*f}${d}, ${(1-t)*m}${b});\n\t\t\topacity: ${l-p*n}`}}}function gt(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map((n,e)=>gt(t[e],n));return t=>e.map(n=>n(t))}if("number"===e){const e=n-t;return n=>t+n*e}}function vt(t,o={}){const i=ut(t);let r,s=t;function c(c,l){if(null==t)return i.set(t=c),Promise.resolve();s=c;let u=r,a=0,{delay:f=0,duration:d=400,M:m=n,interpolate:h=gt}=e(e({},o),l);if(0===d)return u&&(u.abort(),u=null),i.set(t=s),Promise.resolve();const g=p()+f;let v;return r=b(n=>{if(g>n)return 1;a||(v=h(t,c),"function"==typeof d&&(d=d(t,c)),a=1),u&&(u.abort(),u=null);const e=n-g;return e>d?(i.set(t=c),0):(i.set(t=v(m(e/d))),1)}),r.promise}return{set:c,update(n,e){return c(n(s,t),e)},subscribe:i.subscribe}}function xt(t,n,e){const o=t.slice();return o[24]=n[e],o}function wt(t,n){let e,o,r,s,c;function l(){return n[14](n[24])}return{key:t,first:null,c(){e=w("button"),k(e,"title",o=n[24].caption),k(e,"aria-label",r=n[24].caption||"View image "+(n[24].i+1)),I(e,"active",n[24].i===n[1]),M(e,"background-image",n[24].thumb?`url(${n[24].thumb})`:"none"),this.first=e},m(t,o){v(t,e,o),s||(c=[y(e,"focus",n[13]),y(e,"click",l)],s=1)},p(t,i){n=t,1&i&&o!==(o=n[24].caption)&&k(e,"title",o),1&i&&r!==(r=n[24].caption||"View image "+(n[24].i+1))&&k(e,"aria-label",r),3&i&&I(e,"active",n[24].i===n[1]),1&i&&M(e,"background-image",n[24].thumb?`url(${n[24].thumb})`:"none")},d(t){t&&x(e),s=0,i(c)}}}function $t(t){let n,e,o,r,s,c,l,a,p=[],f=new Map,d=`translateX(${t[5]}px)`,m=nt(t[0]);const b=t=>t[24].i;for(let n=0;m.length>n;n+=1){let e=xt(t,m,n),o=b(e);f.set(o,p[n]=wt(o,e))}return{c(){n=w("div"),e=w("div"),o=w("div");for(let t=0;p.length>t;t+=1)p[t].c();k(o,"class","bp-thumbs-inner"),k(e,"class","bp-thumbs-outer"),M(e,"transform",d),k(n,"class","bp-thumbs")},m(i,r){v(i,n,r),h(n,e),h(e,o);for(let t=0;p.length>t;t+=1)p[t]&&p[t].m(o,null);t[15](n),c=1,l||(a=[u(t[11].call(null,o)),y(e,"pointerdown",t[8]),u(t[11].call(null,n)),y(n,"pointermove",t[9]),y(n,"pointerup",t[10]),y(n,"pointercancel",t[10])],l=1)},p(t,[n]){151&n&&(m=nt(t[0]),p=((t,n,e,o,r,s,c,l,u,a,p,f)=>{let d=t.length,m=s.length,b=d;const h={};for(;b--;)h[t[b].key]=b;const g=[],v=new Map,x=new Map,w=[];for(b=m;b--;){const t=f(r,s,b),o=e(t);let i=c.get(o);i?w.push(()=>i.p(t,n)):(i=a(o,t),i.c()),v.set(o,g[b]=i),o in h&&x.set(o,Math.abs(b-h[o]))}const $=new Set,y=new Set;function k(t){B(t,1),t.m(l,p),c.set(t.key,t),p=t.first,m--}for(;d&&m;){const n=g[m-1],e=t[d-1],o=n.key,i=e.key;n===e?(p=n.first,d--,m--):v.has(i)?!c.has(o)||$.has(o)?k(n):y.has(i)?d--:x.get(o)>x.get(i)?(y.add(o),k(n)):($.add(i),d--):(u(e,c),d--)}for(;d--;){const n=t[d];v.has(n.key)||u(n,c)}for(;m;)k(g[m-1]);return i(w),g})(p,n,b,0,t,m,f,o,et,wt,null,xt)),32&n&&d!==(d=`translateX(${t[5]}px)`)&&M(e,"transform",d)},i(e){c||(L(()=>{c&&(s&&s.end(1),r=Z(n,t[12],1),r.start())}),c=1)},o(e){r&&r.S(),s=tt(n,t[12],0),c=0},d(e){e&&x(n);for(let t=0;p.length>t;t+=1)p[t].d();t[15](null),e&&s&&s.end(),l=0,i(a)}}}function yt(t,n,e){let o,i,r,s,u,a,p,{items:f}=n,{position:d}=n,{setPosition:m}=n,b=0,h=vt(0,dt(250));c(t,h,t=>e(5,o=t));let g=[];const v=t=>{const n=t||r?.querySelector(".active");if(!n)return;let{left:e,right:i,width:c}=n.getBoundingClientRect(),{offsetLeft:u}=n;e+c>s?l(h,o=x(-u-c+s-3),o):0>i-c&&l(h,o=x(3-u),o),b=o},x=t=>(0>t?s-i-1>t&&(t=s-i-1):t=0,t),w=new ResizeObserver(t=>{for(const n of t)n.target===r?s=n.contentRect.width:i=n.contentRect.width});return t.R=t=>{"items"in t&&e(0,f=t.items),"position"in t&&e(1,d=t.position),"setPosition"in t&&e(2,m=t.setPosition)},t.l.update=()=>{2&t.l.h&&void 0!==d&&setTimeout(()=>v())},[f,d,m,r,p,o,h,v,t=>{s>i||(u=1,a=t.clientX)},t=>{if(u){let n=-(a-t.clientX);p?(h.set(x(b+n),{duration:0}),g.push(t.clientX)):e(4,p=Math.abs(n)>5)}},()=>{if(p&&(g=g.slice(-3),g.length>1)){let t=g[0]-g.pop();Math.abs(t)>5&&l(h,o=x(o-5*t),o)}g=[],u=e(4,p=0),b=o},t=>(w.observe(t),{destroy(){w.unobserve(t)}}),(t,n)=>({...dt(500),css(t,n){return"opacity: "+t}}),t=>v(t.target),t=>!p&&m(t.i),t=>{A[t?"unshift":"push"](()=>{r=t,e(3,r)})}]}class kt extends ct{constructor(t){super(),st(this,t,yt,$t,s,{items:0,position:1,setPosition:2})}}function Mt(t){let n,e,o;return{c(){n=w("div"),n.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',k(n,"class","bp-load"),M(n,"background-image",mt(t[0]))},m(t,e){v(t,n,e),o=1},p(t,e){1&e&&M(n,"background-image",mt(t[0]))},i(t){o||(e&&e.end(1),o=1)},o(t){t&&(e=tt(n,ht,dt(500))),o=0},d(t){t&&x(n),t&&e&&e.end()}}}function It(n){let e,o;return{c(){e=w("div"),k(e,"class","bp-load"),M(e,"background-image",mt(n[0]))},m(t,n){v(t,e,n)},p(t,n){1&n&&M(e,"background-image",mt(t[0]))},i(t){o||L(()=>{o=Z(e,ht,dt(500)),o.start()})},o:t,d(t){t&&x(e)}}}function St(t){let n,e,o=!t[1]&&Mt(t),i=t[2]&&It(t);return{c(){o&&o.c(),n=$(),i&&i.c(),e=$()},m(t,r){o&&o.m(t,r),v(t,n,r),i&&i.m(t,r),v(t,e,r)},p(t,[r]){t[1]?o&&(U(),G(o,1,1,()=>{o=null}),Y()):o?(o.p(t,r),2&r&&B(o,1)):(o=Mt(t),o.c(),B(o,1),o.m(n.parentNode,n)),t[2]?i?(i.p(t,r),4&r&&B(i,1)):(i=It(t),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i(t){B(o),B(i)},o(t){G(o)},d(t){t&&(x(n),x(e)),o&&o.d(t),i&&i.d(t)}}}function Tt(t,n,e){let o;c(t,pt,t=>e(2,o=t));let{H:i}=n,{loaded:r}=n;return t.R=t=>{"H"in t&&e(0,i=t.H),"loaded"in t&&e(1,r=t.loaded)},[i,r,o]}class zt extends ct{constructor(t){super(),st(this,t,Tt,St,s,{H:0,loaded:1})}}function Pt(t){let n,e,o,r,s,c;return{c(){n=w("img"),k(n,"sizes",e=t[9].sizes||t[1]+"px"),k(n,"alt",t[8].alt)},m(e,o){v(e,n,o),r=1,s||(c=[u(t[21].call(null,n)),y(n,"error",t[27])],s=1)},p(t,o){(!r||2&o[0]&&e!==(e=t[9].sizes||t[1]+"px"))&&k(n,"sizes",e)},i(t){r||(o&&o.end(1),r=1)},o(t){o=tt(n,ht,{}),r=0},d(t){t&&x(n),t&&o&&o.end(),s=0,i(c)}}}function _t(t){let n,e;return n=new zt({P:{H:t[8],loaded:t[2]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Nt(t){let n,e,o,r,s,c,l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`,a=t[2]&&Pt(t),p=t[3]&&_t(t);return{c(){n=w("div"),e=w("div"),a&&a.c(),o=$(),p&&p.c(),k(e,"class","bp-img"),M(e,"width",t[0][0]+"px"),M(e,"height",t[0][1]+"px"),I(e,"bp-drag",t[4]),I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]),M(e,"background-image",mt(t[8])),M(e,"transform",l),k(n,"class","bp-img-wrap"),I(n,"bp-close",t[5])},m(i,l){v(i,n,l),h(n,e),a&&a.m(e,null),h(e,o),p&&p.m(e,null),r=1,s||(c=[u(t[20].call(null,e)),y(n,"wheel",t[15]),y(n,"pointerdown",t[16]),y(n,"pointermove",t[17]),y(n,"pointerup",t[19]),y(n,"pointercancel",t[18])],s=1)},p(t,i){t[2]?a?(a.p(t,i),4&i[0]&&B(a,1)):(a=Pt(t),a.c(),B(a,1),a.m(e,o)):a&&(U(),G(a,1,1,()=>{a=null}),Y()),t[3]?p?(p.p(t,i),8&i[0]&&B(p,1)):(p=_t(t),p.c(),B(p,1),p.m(e,null)):p&&(U(),G(p,1,1,()=>{p=null}),Y()),(!r||1&i[0])&&M(e,"width",t[0][0]+"px"),(!r||1&i[0])&&M(e,"height",t[0][1]+"px"),(!r||16&i[0])&&I(e,"bp-drag",t[4]),(!r||4161&i[0])&&I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]);const s=1&i[0];(1&i[0]||s)&&M(e,"background-image",mt(t[8])),(129&i[0]&&l!==(l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`)||s)&&M(e,"transform",l),(!r||32&i[0])&&I(n,"bp-close",t[5])},i(t){r||(B(a),B(p),r=1)},o(t){G(a),G(p),r=0},d(t){t&&x(n),a&&a.d(),p&&p.d(),s=0,i(c)}}}function Ot(t,n,e){let o,i,r,s;c(t,pt,t=>e(26,r=t));let{P:l}=n,{L:u}=n,{H:a,j:p,F:f,next:d,zoomed:m,container:b,containerWidth:h,containerHeight:g}=l;c(t,m,t=>e(25,o=t));let v,x,w,$,y,k,M,I,S,T,z,P=a.maxZoom||p.maxZoom||10,_=l.W(a),N=_[0],O=0,A=+a.width;const R=[],C=new Map,E=vt(_,dt(500));c(t,E,t=>e(0,s=t));const H=vt([0,0],dt(500));c(t,H,t=>e(7,i=t));const L=([t,n],o=s)=>{const i=(o[0]-h)/2,r=(o[1]-g)/2;return 0>i?t=0:t>i?u?(t=y?i+(t-i)/10:i)>i+20&&e(4,y=f()):t=i:-i>t&&(u?-i-20>(t=y?-i-(-i-t)/10:-i)&&e(4,y=d()):t=-i),0>r?n=0:n>r?n=r:-r>n&&(n=-r),[t,n]};function j(t=P,n){if(r)return;const o=_[0]*P;let c=s[0]+s[0]*t,l=s[1]+s[1]*t;if(t>0)c>o&&(c=o,l=_[1]*P),c>A&&(c=A,l=+a.height);else if(_[0]>c)return E.set(_),H.set([0,0]);let{x:u,y:p,width:f,height:d}=$.getBoundingClientRect();const m=n?n.clientX-u-f/2:0,b=n?n.clientY-p-d/2:0;u=c/f*-m+m,p=l/d*-b+b;const h=[c,l];E.set(h).then(()=>{e(1,N=Math.round(Math.max(N,c)))}),H.set(L([i[0]+u,i[1]+p],h))}Object.defineProperty(a,"zoom",{configurable:1,get(){return o},set(t){return j(t?P:-P)}});const F=t=>C.delete(t.pointerId);return t.R=t=>{"L"in t&&e(23,u=t.L)},t.l.update=()=>{if(16777217&t.l.h[0]&&m.set(s[0]-10>_[0]),117440512&t.l.h[0]&&r&&o&&!p.intro){const t=dt(500);H.set([0,0],t),E.set(_,t),e(5,z=1)}},[s,N,v,x,y,z,A,i,a,p,m,b,P,E,H,t=>{p.inline&&!o||(t.preventDefault(),j(t.deltaY/-300,t))},t=>{2!==t.button&&(t.preventDefault(),e(4,y=1),C.set(t.pointerId,t),M=t.clientX,I=t.clientY,S=i[0],T=i[1])},t=>{if(C.size>1)return e(4,y=0),p.noPinch?.(b)||(t=>{const[n,e]=C.set(t.pointerId,t).values(),o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);w=w||{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2},j(((O||o)-o)/-35,w),O=o})(t);if(!y)return;let n=t.clientX,i=t.clientY;k=R.push({x:n,y:i})>2,n-=M,i-=I,o||(-90>i&&e(4,y=!p.noClose&&l.close()),30>Math.abs(i)&&(n>40&&e(4,y=f()),-40>n&&e(4,y=d()))),o&&k&&!r&&H.set(L([S+n,T+i]),{duration:0})},F,function(t){if(F(t),w&&(e(4,y=O=0),w=C.size?w:null),y){if(e(4,y=0),t.target===this&&!p.noClose)return l.close();if(k){const[t,n,e]=R.slice(-3);Math.hypot(n.x-e.x,n.y-e.y)>5&&H.set(L([i[0]-5*(t.x-e.x),i[1]-5*(t.y-e.y)]))}else p.onImageClick?.(b,a)||j(o?-P:P,t);k=0,R.length=0}},t=>{$=t,l.X(()=>{e(24,_=l.W(a)),!p.inline&&u||(E.set(_),H.set([0,0]))}),l.q(a).then(()=>{e(6,A=+a.width),e(2,v=1),l.J()}),setTimeout(()=>{e(3,x=!v)},250)},t=>{bt(t,a.attr)},l,u,_,o,r,t=>p.onError?.(b,a,t)]}let At=class extends ct{constructor(t){super(),st(this,t,Ot,Nt,s,{P:22,L:23},null,[-1,-1])}};function Rt(t){let n,e,o,r,s,c;return o=new zt({P:{H:t[2],loaded:t[0]}}),{c(){n=w("div"),e=w("iframe"),ot(o.l.fragment),k(e,"allow","autoplay; fullscreen"),k(e,"title",t[2].title),k(n,"class","bp-if"),M(n,"width",t[1][0]+"px"),M(n,"height",t[1][1]+"px")},m(i,l){v(i,n,l),h(n,e),it(o,n,null),r=1,s||(c=[u(t[3].call(null,e)),y(e,"load",t[5])],s=1)},p(t,[e]){const i={};1&e&&(i.loaded=t[0]),o.C(i),(!r||2&e)&&M(n,"width",t[1][0]+"px"),(!r||2&e)&&M(n,"height",t[1][1]+"px")},i(t){r||(B(o.l.fragment,t),r=1)},o(t){G(o.l.fragment,t),r=0},d(t){t&&x(n),rt(o),s=0,i(c)}}}function Ct(t,n,e){let o,i,{P:r}=n;const{H:s}=r,c=()=>e(1,i=r.W(s));return c(),r.X(c),[o,i,s,t=>{bt(t,s.attr),t.src=s.iframe},r,()=>e(0,o=1)]}class Et extends ct{constructor(t){super(),st(this,t,Ct,Rt,s,{P:4})}}function Ht(t){let n,e,o,i,r;return e=new zt({P:{H:t[2],loaded:t[0]}}),{c(){n=w("div"),ot(e.l.fragment),k(n,"class","bp-vid"),M(n,"width",t[1][0]+"px"),M(n,"height",t[1][1]+"px"),M(n,"background-image",mt(t[2]))},m(s,c){v(s,n,c),it(e,n,null),o=1,i||(r=u(t[3].call(null,n)),i=1)},p(t,[i]){const r={};1&i&&(r.loaded=t[0]),e.C(r),(!o||2&i)&&M(n,"width",t[1][0]+"px"),(!o||2&i)&&M(n,"height",t[1][1]+"px"),(2&i||2&i)&&M(n,"background-image",mt(t[2]))},i(t){o||(B(e.l.fragment,t),o=1)},o(t){G(e.l.fragment,t),o=0},d(t){t&&x(n),rt(e),i=0,r()}}}function Lt(t,n,e){let o,i,{P:r}=n;const{H:s,j:c,container:l}=r,u=()=>e(1,i=r.W(s));return u(),r.X(u),[o,i,s,t=>{let n;const i=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e));for(const o of e){n||(n=document.createElement(o.type?.includes("audio")?"audio":"video"),bt(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}),bt(n,s.attr));const e=document.createElement(t);bt(e,o),"source"==t&&(e.onError=t=>c.onError?.(l,s,t)),n.append(e)}};i("source",s.sources),i("track",s.tracks||[]),n.oncanplay=()=>e(0,o=1),t.append(n)},r]}class jt extends ct{constructor(t){super(),st(this,t,Lt,Ht,s,{P:4})}}function Ft(n){let e,o,r,c,l,a,p,f,d,m,b=n[8].i,g=Kt(n),$=n[0].length>1&&Ut(n),M=n[12]&&Yt(n);return{c(){e=w("div"),o=w("div"),c=w("div"),g.c(),l=w("div"),a=w("button"),$&&$.c(),M&&M.c(),k(o,"class","bp-overlay"),k(c,"class","bp-stage"),k(a,"class","bp-x"),k(a,"title","Close"),k(a,"aria-label","Close"),k(l,"class","bp-controls"),k(e,"class","bp-wrap"),I(e,"bp-zoomed",n[14]),I(e,"bp-inline",n[10]),I(e,"bp-small",n[9]),I(e,"bp-noclose",n[6].noClose)},m(t,i){v(t,e,i),h(e,o),h(e,c),g.m(c,null),h(e,l),h(l,a),$&&$.m(l,null),M&&M.m(e,null),f=1,d||(m=[y(a,"click",n[1]),u(n[18].call(null,e))],d=1)},p(n,o){256&o[0]&&s(b,b=n[8].i)?(U(),G(g,1,1,t),Y(),g=Kt(n),g.c(),B(g,1),g.m(c,null)):g.p(n,o),n[0].length>1?$?$.p(n,o):($=Ut(n),$.c(),$.m(l,null)):$&&($.d(1),$=null),n[12]?M?(M.p(n,o),4096&o[0]&&B(M,1)):(M=Yt(n),M.c(),B(M,1),M.m(e,null)):M&&(U(),G(M,1,1,()=>{M=null}),Y()),(!f||16384&o[0])&&I(e,"bp-zoomed",n[14]),(!f||1024&o[0])&&I(e,"bp-inline",n[10]),(!f||512&o[0])&&I(e,"bp-small",n[9]),(!f||64&o[0])&&I(e,"bp-noclose",n[6].noClose)},i(t){f||(r&&r.end(1),B(g),p&&p.end(1),B(M),f=1)},o(t){t&&(r=tt(o,ht,dt(500))),G(g),t&&(p=tt(l,ht,{})),G(M),f=0},d(t){t&&x(e),t&&r&&r.end(),g.d(t),$&&$.d(),t&&p&&p.end(),M&&M.d(),d=0,i(m)}}}function Wt(t){let n,e,o,i;const r=[Vt,Jt,qt,Xt],s=[];function c(t,n){return t[8].img?0:t[8].sources?1:t[8].iframe?2:3}return n=c(t),e=s[n]=r[n](t),{c(){e.c(),o=$()},m(t,e){s[n].m(t,e),v(t,o,e),i=1},p(t,i){let l=n;n=c(t),n===l?s[n].p(t,i):(U(),G(s[l],1,1,()=>{s[l]=null}),Y(),e=s[n],e?e.p(t,i):(e=s[n]=r[n](t),e.c()),B(e,1),e.m(o.parentNode,o))},i(t){i||(B(e),i=1)},o(t){G(e),i=0},d(t){t&&x(o),s[n].d(t)}}}function Xt(n){let e,o=(n[8].html??n[8].element.outerHTML)+"";return{c(){e=w("div"),k(e,"class","bp-html")},m(t,n){v(t,e,n),e.innerHTML=o},p(t,n){256&n[0]&&o!==(o=(t[8].html??t[8].element.outerHTML)+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&x(e)}}}function qt(n){let e,o;return e=new Et({P:{P:n[17]()}}),{c(){ot(e.l.fragment)},m(t,n){it(e,t,n),o=1},p:t,i(t){o||(B(e.l.fragment,t),o=1)},o(t){G(e.l.fragment,t),o=0},d(t){rt(e,t)}}}function Jt(n){let e,o;return e=new jt({P:{P:n[17]()}}),{c(){ot(e.l.fragment)},m(t,n){it(e,t,n),o=1},p:t,i(t){o||(B(e.l.fragment,t),o=1)},o(t){G(e.l.fragment,t),o=0},d(t){rt(e,t)}}}function Vt(t){let n,e;return n=new At({P:{P:t[17](),L:t[9]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};512&e[0]&&(o.L=t[9]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Dt(t){let n,e,o,i=t[8].caption+"";return{c(){n=w("div"),k(n,"class","bp-cap")},m(t,e){v(t,n,e),n.innerHTML=i,o=1},p(t,e){(!o||256&e[0])&&i!==(i=t[8].caption+"")&&(n.innerHTML=i)},i(t){o||(e&&e.end(1),o=1)},o(t){e=tt(n,ht,dt(250)),o=0},d(t){t&&x(n),t&&e&&e.end()}}}function Kt(t){let n,e,o,r,s,c,l,a,p=t[7]>0&&t[13]>0&&Wt(t),f=t[8].caption&&Dt(t);return{c(){n=w("div"),e=w("div"),p&&p.c(),o=w("div"),f&&f.c(),k(o,"class","bp-ruler"),k(e,"class","bp-inner"),k(n,"class","bp-slide")},m(i,r){v(i,n,r),h(n,e),p&&p.m(e,null),h(e,o),f&&f.m(n,null),c=1,l||(a=[u(t[19].call(null,o)),y(e,"pointerdown",t[24]),y(e,"pointerup",t[25])],l=1)},p(t,i){t[7]>0&&t[13]>0?p?(p.p(t,i),8320&i[0]&&B(p,1)):(p=Wt(t),p.c(),B(p,1),p.m(e,o)):p&&(U(),G(p,1,1,()=>{p=null}),Y()),t[8].caption?f?(f.p(t,i),256&i[0]&&B(f,1)):(f=Dt(t),f.c(),B(f,1),f.m(n,null)):f&&(U(),G(f,1,1,()=>{f=null}),Y())},i(n){c||(B(p),L(()=>{c&&(s&&s.end(1),r=Z(e,t[16],1),r.start())}),B(f),c=1)},o(n){G(p),r&&r.S(),s=tt(e,t[16],0),G(f),c=0},d(t){t&&x(n),p&&p.d(),t&&s&&s.end(),f&&f.d(),l=0,i(a)}}}function Ut(t){let n,e,o,r,s,c=`${t[5]+1} / ${t[0].length}`;return{c(){n=w("div"),e=w("button"),o=w("button"),k(n,"class","bp-count"),k(e,"class","bp-prev"),k(e,"title","Previous"),k(e,"aria-label","Previous"),k(o,"class","bp-next"),k(o,"title","Next"),k(o,"aria-label","Next")},m(i,l){v(i,n,l),n.innerHTML=c,v(i,e,l),v(i,o,l),r||(s=[y(e,"click",t[2]),y(o,"click",t[3])],r=1)},p(t,e){33&e[0]&&c!==(c=`${t[5]+1} / ${t[0].length}`)&&(n.innerHTML=c)},d(t){t&&(x(n),x(e),x(o)),r=0,i(s)}}}function Yt(t){let n,e;return n=new kt({P:{position:t[5],setPosition:t[4],items:t[0]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};32&e[0]&&(o.position=t[5]),1&e[0]&&(o.items=t[0]),n.C(o)},i(t){e||(B(n.l.fragment,t),e=1)},o(t){G(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Bt(t){let n,e,o=t[0]&&Ft(t);return{c(){o&&o.c(),n=$()},m(t,i){o&&o.m(t,i),v(t,n,i),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&B(o,1)):(o=Ft(t),o.c(),B(o,1),o.m(n.parentNode,n)):o&&(U(),G(o,1,1,()=>{o=null}),Y())},i(t){e||(B(o),e=1)},o(t){G(o),e=0},d(t){t&&x(n),o&&o.d(t)}}}function Gt(t,n,e){let o,{items:i}=n,{target:r}=n;const s=document.documentElement;let l,u,a,p,f,d,m,b,h,g,v,x,w,$;const y=()=>!$.img&&!$.sources&&!$.iframe;let k;const M=t=>k=t,I=ut(0);c(t,I,t=>e(14,o=t));const S=()=>{u.onClose?.(v,$),pt.set(1),e(0,i=null),p?.focus({preventScroll:1})},T=()=>P(l-1),z=()=>P(l+1),P=t=>{m=t-l,e(5,l=_(t))},_=t=>(t+i.length)%i.length,N=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!u.noClose&&S();else if("ArrowRight"===n)z();else if("ArrowLeft"===n)T();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const{focusWrap:o=v}=u,i=[...o.querySelectorAll("*")].filter(t=>t.tabIndex>=0);let r=i.indexOf(n);r+=i.length+(e?-1:1),i[r%i.length].focus()}}},O=t=>{if(t.thumb instanceof HTMLImageElement)A(t,t.thumb),t.fit=globalThis.getComputedStyle(t.thumb).objectFit,t.thumb=t.thumb.src;else{let n;t.element&&(n=t.element.querySelector("img")),n&&!t.fit&&(t.fit=globalThis.getComputedStyle(n).objectFit),!n||t.thumb&&t.thumb!==n.src?t.thumb&&(n=new Image,n.src=t.thumb,n.onload=()=>{A(t,n)}):(A(t,n),t.thumb=n.src)}},A=(t,n)=>{if(n instanceof HTMLImageElement&&(!t.width||!t.height)){let e=R({width:n.naturalWidth,height:n.naturalHeight});t.width=e[0],t.height=e[1],t.scaled=1}},R=({width:t=1920,height:n=1080})=>{const{scale:e=1}=u,o=Math.min(x/t*e,w/n*e);return[Math.round(t*o),Math.round(n*o)]},C=()=>{if(i){const t=i[_(l+1)],n=i[_(l-1)];!t.preload&&E(t),!n.preload&&E(n)}},E=t=>{if(t.img){const n=document.createElement("img"),e=decodeURIComponent(t.img);return/\s+\d+[wx]/.test(e)?(n.sizes=u.sizes||R(t)[0]+"px",n.srcset=e,t.attr={sizes:n.sizes,srcset:n.srcset,...t.attr}):(n.src=e,t.attr={src:e,...t.attr}),n.preload=1,n.decode().then(()=>{t.scaled&&n.naturalWidth>0&&n.naturalHeight>0&&(t.width=n.naturalWidth,t.height=n.naturalHeight)}).catch(t=>{})}},H=new ResizeObserver(t=>{y()||k?.(),u.onResize?.(v,$)});return t.R=t=>{"items"in t&&e(0,i=t.items),"target"in t&&e(20,r=t.target)},t.l.update=()=>{12583265&t.l.h[0]&&i&&(e(8,$=i[l]),a&&u.onUpdate?.(v,$)),128&t.l.h[0]&&e(9,f=769>x)},[i,S,T,z,P,l,u,x,$,f,d,b,h,w,o,I,(t,n)=>a&&i?ht(t,{...dt(250),x:(m>0?20:-20)*(n?1:-1)}):(e(22,a=n),u.intro?ht(t,{y:n?10:-10}):(t=>{let n,o;g&&(e(7,x=g.clientWidth),e(13,w=g.clientHeight));let i=v?parseInt(globalThis.getComputedStyle(v).getPropertyValue("--bp-stage-gap")):0;if(isNaN(i)&&(i=0),y()){const e=t.firstChild.firstChild;n=[e.clientWidth,e.clientHeight]}else n=R($);const r=($.element||p).getBoundingClientRect(),s=r.left-i-(x-r.width)/2,c=r.top-i-(w-r.height)/2,l=r.width/n[0],u=r.height/n[1];if("cover"===$.fit){const t=Math.max(u,l),e=Math.max((n[1]-r.height/t)/2,0),i=Math.max((n[0]-r.width/t)/2,0);o=(n,o)=>`transform: translate3d(${s*o}px, ${c*o}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);\n\t\t\t\t--bp-clip-y: ${e*o}px;\n\t\t\t\t--bp-clip-x: ${i*o}px;`}else if("contain"===$.fit){const t=Math.min(u,l);o=(n,e)=>`transform: translate3d(${s*e}px, ${c*e}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);`}else o=(t,n)=>`transform: translate3d(${s*n}px, ${c*n}px, 0) scale3d(${l+t*(1-l)}, ${u+t*(1-u)}, 1);`;return{...dt(500),css:o}})(t)),()=>({H:$,W:R,q:E,J:C,j:u,F:T,next:z,close:S,X:M,zoomed:I,container:v,containerWidth:x,containerHeight:w}),t=>(e(23,v=t),u.onOpen?.(v,$),d||globalThis.addEventListener("keydown",N),H.observe(t),{destroy(){H.disconnect(),globalThis.removeEventListener("keydown",N),pt.set(0),s.classList.remove("bp-lock"),u.onClosed?.()}}),t=>{g=t;const n=new ResizeObserver(t=>{e(7,x=t[0].contentRect.width),e(13,w=t[0].contentRect.height)});return n.observe(t),{destroy(){n.disconnect()}}},r,t=>{e(6,u=t),e(10,d=u.inline),!d&&s.scrollHeight>s.clientHeight&&s.classList.add("bp-lock"),e(12,h=u.thumbs&&u.items?.length>1),p=document.activeElement,r&&(e(23,v=r),e(7,x=r.offsetWidth),e(13,w=r===document.body?globalThis.innerHeight:r.clientHeight)),e(5,l=u.position||0),e(0,i=[]);for(let t=0;(u.items.length||1)>t;t++){let n=u.items[t]||u.items;"dataset"in n?i.push({element:n,i:t,...n.dataset}):(n.i=t,i.push(n),n=n.element),u.el&&u.el===n&&e(5,l=t)}i.forEach(O)},a,v,t=>e(11,b=t.target),function(t){2!==t.button&&t.target===this&&b===this&&!u.noClose&&S()}]}class Qt extends ct{constructor(t){super(),st(this,t,Gt,Bt,s,{items:0,target:20,open:21,close:1,F:2,next:3,setPosition:4},null,[-1,-1])}get items(){return this.l.$[0]}get target(){return this.l.$[20]}get open(){return this.l.$[21]}get close(){return this.l.$[1]}get F(){return this.l.$[2]}get next(){return this.l.$[3]}get setPosition(){return this.l.$[4]}}function Zt(t){return new Qt({...t,P:t})}export{Zt as default};
