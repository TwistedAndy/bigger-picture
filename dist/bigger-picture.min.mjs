function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function i(t){t.forEach(o)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n}function c(n,e,o){n.l.t.push(((n,...e)=>{if(null==n){for(const t of e)t(void 0);return t}const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function l(t,n,e){return t.set(e),n}function u(n){return n&&r(n.destroy)?n.destroy:t}function a(t){const n="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}let p=()=>window.performance.now(),f=t=>requestAnimationFrame(t);const d=new Set;function m(t){d.forEach(n=>{n.c(t)||(d.delete(n),n.f())}),0!==d.size&&f(m)}function b(t){let n;return 0===d.size&&f(m),{promise:new Promise(e=>{d.add(n={c:t,f:e})}),abort(){d.delete(n)}}}function h(t,n){t.appendChild(n)}function g(t){const n=y("style");return n.textContent="/* empty */",((t,n)=>{h(t.head||t,n)})(document,n),n.sheet}function w(t,n,e){t.insertBefore(n,e||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function x(){return document.createTextNode("")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e)}function I(t,n,e){t.classList.toggle(n,!!e)}const _=new Map;let S,z=0;function D(t,n,e,o,i,r,s,c=0){const l=16.666/o;let u="{\n";for(let t=0;1>=t;t+=l){const o=n+(e-n)*r(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(e,1-e)}}\n}`,p=`_bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${c}`,f=document,{stylesheet:d,rules:m}=_.get(f)||(t=>{const n={stylesheet:g(),rules:{}};return _.set(t,n),n})(f);m[p]||(m[p]=1,d.insertRule(`@keyframes ${p} ${a}`,d.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?b+", ":""}${p} ${o}ms linear ${i}ms 1 both`,z+=1,p}function P(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("_bp")),i=e.length-o.length;i&&(t.style.animation=o.join(", "),z-=i,z||f(()=>{z||(_.forEach(t=>{const{ownerNode:n}=t.stylesheet;n&&v(n)}),_.clear())}))}function L(t){S=t}const R=[],A=[];let U=[];const j=[],H=Promise.resolve();let T=0;function C(t){U.push(t)}const E=new Set;let N,O=0;function W(){if(0!==O)return;const t=S;do{try{for(;R.length>O;){const t=R[O];O++,L(t),q(t.l)}}catch(t){throw R.length=0,O=0,t}for(L(null),R.length=0,O=0;A.length;)A.pop()();for(let t=0;U.length>t;t+=1){const n=U[t];E.has(n)||(E.add(n),n())}U.length=0}while(R.length);for(;j.length;)j.pop()();T=0,E.clear(),L(t)}function q(t){if(null!==t.fragment){t.update(),i(t.u);const n=t.h;t.h=[-1],t.fragment&&t.fragment.p(t.$,n),t.k.forEach(C)}}function J(){return N||(N=Promise.resolve(),N.then(()=>{N=null})),N}function X(t,n,e){t.dispatchEvent(((t,n,{bubbles:e=0,cancelable:o=0}={})=>new CustomEvent(t,{detail:n,bubbles:e,cancelable:o}))(`${n?"intro":"outro"}${e}`))}const Z=new Set;let F;function V(){F={r:0,c:[],p:F}}function K(){F.r||i(F.c),F=F.p}function Y(t,n){t&&t.i&&(Z.delete(t),t.i(n))}function B(t,n,e,o){if(t&&t.o){if(Z.has(t))return;Z.add(t),F.c.push(()=>{Z.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}else o&&o()}const G={duration:0};function Q(e,o,i){const s={direction:"in"};let c,l,u=o(e,i,s),a=0,f=0;function d(){c&&P(e,c)}function m(){const{delay:o=0,duration:i=300,M:r=n,I:s=t,css:m}=u||G;m&&(c=D(e,0,1,i,o,r,m,f++)),s(0,1);const h=p()+o,g=h+i;l&&l.abort(),a=1,C(()=>X(e,1,"start")),l=b(t=>{if(a){if(t>=g)return s(1,0),X(e,1,"end"),d(),a=0;if(t>=h){const n=r((t-h)/i);s(n,1-n)}}return a})}let h=0;return{start(){h||(h=1,P(e),r(u)?(u=u(s),J().then(m)):m())},_(){h=0},end(){a&&(d(),a=0)}}}function tt(e,o,s){const c={direction:"out"};let l,u=o(e,s,c),a=1;const f=F;let d;function m(){const{delay:o=0,duration:r=300,M:s=n,I:c=t,css:m}=u||G;m&&(l=D(e,1,0,r,o,s,m));const h=p()+o,g=h+r;C(()=>X(e,0,"start")),"inert"in e&&(d=e.inert,e.inert=1),b(t=>{if(a){if(t>=g)return c(0,1),X(e,0,"end"),--f.r||i(f.c),0;if(t>=h){const n=s((t-h)/r);c(1-n,n)}}return a})}return f.r+=1,r(u)?J().then(()=>{u=u(c),m()}):m(),{end(t){t&&"inert"in e&&(e.inert=d),t&&u.I&&u.I(1,0),a&&(l&&P(e,l),a=0)}}}function nt(t){return void 0!==t?.length?t:Array.from(t)}function et(t,n){t.d(1),n.delete(t.key)}function ot(t){t&&t.c()}function it(t,n,e){const{fragment:s,k:c}=t.l;s&&s.m(n,e),C(()=>{const n=t.l.S.map(o).filter(r);t.l.t?t.l.t.push(...n):i(n),t.l.S=[]}),c.forEach(C)}function rt(t,n){const e=t.l;null!==e.fragment&&((t=>{const n=[],e=[];U.forEach(o=>-1===t.indexOf(o)?n.push(o):e.push(o)),e.forEach(t=>t()),U=n})(e.k),i(e.t),e.fragment&&e.fragment.d(n),e.t=e.fragment=null,e.$=[])}function st(n,e,o,r,s,c,l=null,u=[-1]){const a=S;L(n);const p=n.l={fragment:null,$:[],D:c,update:t,P:s,bound:{},S:[],t:[],L:[],u:[],k:[],context:new Map(e.context||(a?a.l.context:[])),R:{},h:u,A:0,root:e.target||a.l.root};l&&l(p.root);let f=0;p.$=o?o(n,e.D||{},(t,e,...o)=>{const i=o.length?o[0]:e;return p.$&&s(p.$[t],p.$[t]=i)&&(!p.A&&p.bound[t]&&p.bound[t](i),f&&((t,n)=>{-1===t.l.h[0]&&(R.push(t),T||(T=1,H.then(W)),t.l.h.fill(0)),t.l.h[n/31|0]|=1<<n%31})(n,t)),e}):[],p.update(),f=1,i(p.u),p.fragment=r?r(p.$):0,e.target&&(p.fragment&&p.fragment.c(),it(n,e.target,e.anchor),W()),L(a)}class ct{l=void 0;U=void 0;$destroy(){rt(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.l.R[n]||(this.l.R[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}j(t){this.U&&0!==Object.keys(t).length&&(this.l.A=1,this.U(t),this.l.A=0)}}(window._bp||(window._bp={v:new Set})).v.add("4");const lt=[];function ut(n,e=t){let o;const i=new Set;function r(t){if(r=t,((e=n)!=e?r==r:e!==r||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!lt.length;for(const t of i)t[1](),lt.push(t,n);if(t){for(let t=0;lt.length>t;t+=2)lt[t][0](lt[t+1]);lt.length=0}}var e,r}function s(t){r(t(n))}return{set:r,update:s,subscribe(c,l=t){const u=[c,l];return i.add(u),1===i.size&&(o=e(r,s)||t),c(n),()=>{i.delete(u),0===i.size&&o&&(o(),o=null)}}}}function at(t){const n=t-1;return n*n*n+1}const pt=ut(0),ft=t=>({M:at,duration:window.matchMedia?.("(prefers-reduced-motion: reduce)").matches?0:t}),dt=t=>!t.thumb||`url(${t.thumb})`,mt=(t,n)=>{if(n){"string"==typeof n&&(n=JSON.parse(n));for(let e in n)t.setAttribute(e,n[e])}};function bt(t,{delay:n=0,duration:e=400,M:o=at,x:i=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),l=+c.opacity,u="none"===c.transform?"":c.transform,p=l*(1-s),[f,d]=a(i),[m,b]=a(r);return{delay:n,duration:e,M:o,css(t,n){return`\n\t\t\ttransform: ${u} translate(${(1-t)*f}${d}, ${(1-t)*m}${b});\n\t\t\topacity: ${l-p*n}`}}}function ht(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map((n,e)=>ht(t[e],n));return t=>e.map(n=>n(t))}if("number"===e){const e=n-t;return n=>t+n*e}}function gt(t,o={}){const i=ut(t);let r,s=t;function c(c,l){if(null==t)return i.set(t=c),Promise.resolve();s=c;let u=r,a=0,{delay:f=0,duration:d=400,M:m=n,interpolate:h=ht}=e(e({},o),l);if(0===d)return u&&(u.abort(),u=null),i.set(t=s),Promise.resolve();const g=p()+f;let w;return r=b(n=>{if(g>n)return 1;a||(w=h(t,c),"function"==typeof d&&(d=d(t,c)),a=1),u&&(u.abort(),u=null);const e=n-g;return e>d?(i.set(t=c),0):(i.set(t=w(m(e/d))),1)}),r.promise}return{set:c,update(n,e){return c(n(s,t),e)},subscribe:i.subscribe}}function wt(t,n,e){const o=t.slice();return o[21]=n[e],o}function vt(t,n){let e,o,r,s,c;function l(){return n[12](n[21])}return{key:t,first:null,c(){e=y("button"),k(e,"title",o=n[21].caption),k(e,"aria-label",r=n[21].caption||"View image "+(n[21].i+1)),I(e,"active",n[21].i===n[1]),M(e,"background-image",n[21].thumb?`url(${n[21].thumb})`:"none"),this.first=e},m(t,o){w(t,e,o),s||(c=[$(e,"focus",n[11]),$(e,"click",l)],s=1)},p(t,i){n=t,1&i&&o!==(o=n[21].caption)&&k(e,"title",o),1&i&&r!==(r=n[21].caption||"View image "+(n[21].i+1))&&k(e,"aria-label",r),3&i&&I(e,"active",n[21].i===n[1]),1&i&&M(e,"background-image",n[21].thumb?`url(${n[21].thumb})`:"none")},d(t){t&&v(e),s=0,i(c)}}}function yt(t){let n,e,o,r,s,c,l,a,p=[],f=new Map,d=`translateX(${t[4]}px)`,m=nt(t[0]);const b=t=>t[21].i;for(let n=0;m.length>n;n+=1){let e=wt(t,m,n),o=b(e);f.set(o,p[n]=vt(o,e))}return{c(){n=y("div"),e=y("div"),o=y("div");for(let t=0;p.length>t;t+=1)p[t].c();k(o,"class","bp-thumbs-inner"),k(e,"class","bp-thumbs-outer"),M(e,"transform",d),k(n,"class","bp-thumbs")},m(i,r){w(i,n,r),h(n,e),h(e,o);for(let t=0;p.length>t;t+=1)p[t]&&p[t].m(o,null);c=1,l||(a=[u(t[10].call(null,o)),$(e,"pointerdown",t[7]),u(t[10].call(null,n)),$(n,"pointermove",t[8]),$(n,"pointerup",t[9]),$(n,"pointercancel",t[9])],l=1)},p(t,[n]){79&n&&(m=nt(t[0]),p=((t,n,e,o,r,s,c,l,u,a,p,f)=>{let d=t.length,m=s.length,b=d;const h={};for(;b--;)h[t[b].key]=b;const g=[],w=new Map,v=new Map,y=[];for(b=m;b--;){const t=f(r,s,b),o=e(t);let i=c.get(o);i?y.push(()=>i.p(t,n)):(i=a(o,t),i.c()),w.set(o,g[b]=i),o in h&&v.set(o,Math.abs(b-h[o]))}const x=new Set,$=new Set;function k(t){Y(t,1),t.m(l,p),c.set(t.key,t),p=t.first,m--}for(;d&&m;){const n=g[m-1],e=t[d-1],o=n.key,i=e.key;n===e?(p=n.first,d--,m--):w.has(i)?!c.has(o)||x.has(o)?k(n):$.has(i)?d--:v.get(o)>v.get(i)?($.add(o),k(n)):(x.add(i),d--):(u(e,c),d--)}for(;d--;){const n=t[d];w.has(n.key)||u(n,c)}for(;m;)k(g[m-1]);return i(y),g})(p,n,b,0,t,m,f,o,et,vt,null,wt)),16&n&&d!==(d=`translateX(${t[4]}px)`)&&M(e,"transform",d)},i(t){c||(C(()=>{c&&(s&&s.end(1),r=Q(n,bt,ft(500)),r.start())}),c=1)},o(t){r&&r._(),s=tt(n,bt,ft(500)),c=0},d(t){t&&v(n);for(let t=0;p.length>t;t+=1)p[t].d();t&&s&&s.end(),l=0,i(a)}}}function xt(t,n,e){let o,i,r,s,u,a,p,{items:f}=n,{position:d}=n,{setPosition:m}=n,b=0,h=gt(0,ft(250));c(t,h,t=>e(4,o=t));let g=[];const w=t=>{const n=t||r?.querySelector(".active");if(!n)return;let{left:e,right:i,width:c}=n.getBoundingClientRect(),{offsetLeft:u}=n;e+c>s?l(h,o=v(-u-c+s-3),o):0>i-c&&l(h,o=v(3-u),o),b=o},v=t=>(0>t?s-i-1>t&&(t=s-i-1):t=0,t);return t.U=t=>{"items"in t&&e(0,f=t.items),"position"in t&&e(1,d=t.position),"setPosition"in t&&e(2,m=t.setPosition)},t.l.update=()=>{2&t.l.h&&void 0!==d&&setTimeout(()=>w())},[f,d,m,p,o,h,w,t=>{s>i||(u=1,a=t.clientX)},t=>{if(u){let n=-(a-t.clientX);p?(h.set(v(b+n),{duration:0}),g.push(t.clientX)):e(3,p=Math.abs(n)>5)}},()=>{if(p&&(g=g.slice(-3),g.length>1)){let t=g[0]-g.pop();Math.abs(t)>5&&l(h,o=v(o-5*t),o)}g=[],u=e(3,p=0),b=o},t=>{r=t;const n=new ResizeObserver(t=>{for(const n of t)n.target===r?s=n.contentRect.width:i=n.contentRect.width});return n.observe(t),{destroy(){n.unobserve(t)}}},t=>w(t.target),t=>!p&&m(t.i)]}class $t extends ct{constructor(t){super(),st(this,t,xt,yt,s,{items:0,position:1,setPosition:2})}}function kt(t){let n,e,o;return{c(){n=y("div"),n.innerHTML='<span class="bp-bar"></span><span class="bp-o"></span>',k(n,"class","bp-load"),M(n,"background-image",dt(t[0]))},m(t,e){w(t,n,e),o=1},p(t,e){1&e&&M(n,"background-image",dt(t[0]))},i(t){o||(e&&e.end(1),o=1)},o(t){t&&(e=tt(n,bt,ft(500))),o=0},d(t){t&&v(n),t&&e&&e.end()}}}function Mt(n){let e,o;return{c(){e=y("div"),k(e,"class","bp-load"),M(e,"background-image",dt(n[0]))},m(t,n){w(t,e,n)},p(t,n){1&n&&M(e,"background-image",dt(t[0]))},i(t){o||C(()=>{o=Q(e,bt,ft(500)),o.start()})},o:t,d(t){t&&v(e)}}}function It(t){let n,e,o=!t[1]&&kt(t),i=t[2]&&Mt(t);return{c(){o&&o.c(),n=x(),i&&i.c(),e=x()},m(t,r){o&&o.m(t,r),w(t,n,r),i&&i.m(t,r),w(t,e,r)},p(t,[r]){t[1]?o&&(V(),B(o,1,1,()=>{o=null}),K()):o?(o.p(t,r),2&r&&Y(o,1)):(o=kt(t),o.c(),Y(o,1),o.m(n.parentNode,n)),t[2]?i?(i.p(t,r),4&r&&Y(i,1)):(i=Mt(t),i.c(),Y(i,1),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i(t){Y(o),Y(i)},o(t){B(o)},d(t){t&&(v(n),v(e)),o&&o.d(t),i&&i.d(t)}}}function _t(t,n,e){let o;c(t,pt,t=>e(2,o=t));let{H:i}=n,{loaded:r}=n;return t.U=t=>{"H"in t&&e(0,i=t.H),"loaded"in t&&e(1,r=t.loaded)},[i,r,o]}class St extends ct{constructor(t){super(),st(this,t,_t,It,s,{H:0,loaded:1})}}function zt(t){let n,e,o,r;return{c(){n=y("img"),k(n,"sizes",e=t[9].sizes||t[1]+"px"),k(n,"alt",t[8].alt)},m(e,i){w(e,n,i),o||(r=[u(t[21].call(null,n)),$(n,"error",t[29])],o=1)},p(t,o){2&o[0]&&e!==(e=t[9].sizes||t[1]+"px")&&k(n,"sizes",e)},d(t){t&&v(n),o=0,i(r)}}}function Dt(t){let n,e;return n=new St({D:{H:t[8],loaded:t[2]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.j(o)},i(t){e||(Y(n.l.fragment,t),e=1)},o(t){B(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Pt(t){let n,e,o,r,s,c,l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`,a=t[2]&&zt(t),p=t[3]&&Dt(t);return{c(){n=y("div"),e=y("div"),a&&a.c(),o=x(),p&&p.c(),k(e,"class","bp-img"),M(e,"width",t[0][0]+"px"),M(e,"height",t[0][1]+"px"),I(e,"bp-drag",t[4]),I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]),M(e,"background-image",dt(t[8])),M(e,"transform",l),k(n,"class","bp-img-wrap"),I(n,"bp-close",t[5])},m(i,l){w(i,n,l),h(n,e),a&&a.m(e,null),h(e,o),p&&p.m(e,null),r=1,s||(c=[u(t[20].call(null,e)),$(n,"wheel",t[15]),$(n,"pointerdown",t[16]),$(n,"pointermove",t[17]),$(n,"pointerup",t[19]),$(n,"pointercancel",t[18])],s=1)},p(t,i){t[2]?a?a.p(t,i):(a=zt(t),a.c(),a.m(e,o)):a&&(a.d(1),a=null),t[3]?p?(p.p(t,i),8&i[0]&&Y(p,1)):(p=Dt(t),p.c(),Y(p,1),p.m(e,null)):p&&(V(),B(p,1,1,()=>{p=null}),K()),(!r||1&i[0])&&M(e,"width",t[0][0]+"px"),(!r||1&i[0])&&M(e,"height",t[0][1]+"px"),(!r||16&i[0])&&I(e,"bp-drag",t[4]),(!r||4161&i[0])&&I(e,"bp-canzoom",t[12]>1&&t[6]>t[0][0]);const s=1&i[0];(1&i[0]||s)&&M(e,"background-image",dt(t[8])),(129&i[0]&&l!==(l=`translate3d(${t[0][0]/-2+t[7][0]}px, ${t[0][1]/-2+t[7][1]}px, 0)`)||s)&&M(e,"transform",l),(!r||32&i[0])&&I(n,"bp-close",t[5])},i(t){r||(Y(p),r=1)},o(t){B(p),r=0},d(t){t&&v(n),a&&a.d(),p&&p.d(),s=0,i(c)}}}function Lt(t,n,e){let o,i,r,s;c(t,pt,t=>e(28,r=t));let{D:l}=n,{T:u}=n,{containerWidth:a}=n,{containerHeight:p}=n,{activeDimensions:f}=n,{H:d,C:m,N:b,next:h,zoomed:g,container:w}=l;c(t,g,t=>e(27,o=t));let v,y,x,$,k,M,I,_,S,z,D,P=d.maxZoom||m.maxZoom||10,L=f[0],R=0,A=+d.width;const U=[],j=new Map,H=gt(f,ft(500));c(t,H,t=>e(0,s=t));const T=gt([0,0],ft(500));c(t,T,t=>e(7,i=t));const C=([t,n],o=s)=>{let i=(o[0]-a)/2,r=(o[1]-p)/2;return 0>i?t=0:t>i?u?(t=k?i+(t-i)/10:i)>i+20&&e(4,k=b()):t=i:-i>t&&(u?-i-20>(t=k?-i-(-i-t)/10:-i)&&e(4,k=h()):t=-i),0>r?n=0:n>r?n=r:-r>n&&(n=-r),[t,n]};function E(t=P,n){if(r)return;let o=f[0]*P,c=s[0]+s[0]*t,l=s[1]+s[1]*t;if(t>0)c>o&&(c=o,l=f[1]*P),c>A&&(c=A,l=+d.height);else if(f[0]>c)return H.set(f),T.set([0,0]);let{x:u,y:a,width:p,height:m}=$.getBoundingClientRect(),b=n?n.clientX-u-p/2:0,h=n?n.clientY-a-m/2:0;u=c/p*-b+b,a=l/m*-h+h;let g=[c,l];H.set(g).then(()=>{e(1,L=Math.round(Math.max(L,c)))}),T.set(C([i[0]+u,i[1]+a],g))}Object.defineProperty(d,"zoom",{configurable:1,get(){return o},set(t){return E(t?P:-P)}});const N=t=>j.delete(t.pointerId);return t.U=t=>{"T"in t&&e(23,u=t.T),"containerWidth"in t&&e(24,a=t.containerWidth),"containerHeight"in t&&e(25,p=t.containerHeight),"activeDimensions"in t&&e(26,f=t.activeDimensions)},t.l.update=()=>{if(67108865&t.l.h[0]&&g.set(s[0]-10>f[0]),469762048&t.l.h[0]&&r&&o&&!m.intro){const t=ft(500);T.set([0,0],t),H.set(f,t),e(5,D=1)}75497472&t.l.h[0]&&(!f||!m.inline&&u||(H.set(f),T.set([0,0])))},[s,L,v,y,k,D,A,i,d,m,g,w,P,H,T,t=>{m.inline&&!o||(t.preventDefault(),E(t.deltaY/-300,t))},t=>{2!==t.button&&(t.preventDefault(),e(4,k=1),j.set(t.pointerId,t),I=t.clientX,_=t.clientY,S=i[0],z=i[1])},t=>{if(j.size>1)return e(4,k=0),m.noPinch?.(w)||(t=>{const[n,e]=j.set(t.pointerId,t).values(),o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);x=x||{clientX:(n.clientX+e.clientX)/2,clientY:(n.clientY+e.clientY)/2},E(((R||o)-o)/-35,x),R=o})(t);if(!k)return;let n=t.clientX,i=t.clientY;M=U.push({x:n,y:i})>2,n-=I,i-=_,o||(-90>i&&e(4,k=!m.noClose&&l.close()),30>Math.abs(i)&&(n>40&&e(4,k=b()),-40>n&&e(4,k=h()))),o&&M&&!r&&T.set(C([S+n,z+i]),{duration:0})},N,function(t){if(N(t),x&&(e(4,k=R=0),x=j.size?x:null),k){if(e(4,k=0),t.target===this&&!m.noClose)return l.close();if(M){const[t,n,e]=U.slice(-3);Math.hypot(n.x-e.x,n.y-e.y)>5&&T.set(C([i[0]-5*(t.x-e.x),i[1]-5*(t.y-e.y)]))}else m.onImageClick?.(w,d)||E(o?-P:P,t);M=0,U.length=0}},t=>{$=t,l.O(d).then(()=>{e(6,A=+d.width),e(2,v=1),l.W()}),setTimeout(()=>{e(3,y=!v)},250)},t=>{mt(t,d.attr)},l,u,a,p,f,o,r,t=>m.onError?.(w,d,t)]}let Rt=class extends ct{constructor(t){super(),st(this,t,Lt,Pt,s,{D:22,T:23,containerWidth:24,containerHeight:25,activeDimensions:26},null,[-1,-1])}};function At(t){let n,e,o,r,s,c,l=t[0][0]+"px",a=t[0][1]+"px";return o=new St({D:{H:t[2],loaded:t[1]}}),{c(){n=y("div"),e=y("iframe"),ot(o.l.fragment),k(e,"allow","autoplay; fullscreen"),k(e,"title",t[2].title),k(n,"class","bp-iframe"),M(n,"width",l),M(n,"height",a)},m(i,l){w(i,n,l),h(n,e),it(o,n,null),r=1,s||(c=[u(t[3].call(null,e)),$(e,"load",t[5])],s=1)},p(t,[e]){const i={};2&e&&(i.loaded=t[1]),o.j(i),1&e&&l!==(l=t[0][0]+"px")&&M(n,"width",l),1&e&&a!==(a=t[0][1]+"px")&&M(n,"height",a)},i(t){r||(Y(o.l.fragment,t),r=1)},o(t){B(o.l.fragment,t),r=0},d(t){t&&v(n),rt(o),s=0,i(c)}}}function Ut(t,n,e){let{D:o}=n,{activeDimensions:i}=n,r=0;const{H:s}=o;return t.U=t=>{"activeDimensions"in t&&e(0,i=t.activeDimensions)},[i,r,s,t=>{mt(t,s.attr),t.src=s.iframe},o,()=>e(1,r=1)]}class jt extends ct{constructor(t){super(),st(this,t,Ut,At,s,{D:4,activeDimensions:0})}}function Ht(t){let n,e,o,i,r,s=t[0][0]+"px",c=t[0][1]+"px";return e=new St({D:{H:t[2],loaded:t[1]}}),{c(){n=y("div"),ot(e.l.fragment),k(n,"class","bp-video"),M(n,"width",s),M(n,"height",c),M(n,"background-image",dt(t[2]))},m(s,c){w(s,n,c),it(e,n,null),o=1,i||(r=u(t[3].call(null,n)),i=1)},p(t,[o]){const i={};2&o&&(i.loaded=t[1]),e.j(i),1&o&&s!==(s=t[0][0]+"px")&&M(n,"width",s),1&o&&c!==(c=t[0][1]+"px")&&M(n,"height",c)},i(t){o||(Y(e.l.fragment,t),o=1)},o(t){B(e.l.fragment,t),o=0},d(t){t&&v(n),rt(e),i=0,r()}}}function Tt(t,n,e){let{D:o}=n,{activeDimensions:i}=n,r=0;const{H:s,C:c,container:l}=o;return t.U=t=>{"activeDimensions"in t&&e(0,i=t.activeDimensions)},[i,r,s,t=>{let n;const o=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e));for(let o of e){n||(n=document.createElement(o.type?.includes("audio")?"audio":"video"),mt(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}),mt(n,s.attr));let e=document.createElement(t);mt(e,o),"source"===t&&(e.onError=t=>c.onError?.(l,s,t)),n.append(e)}};o("source",s.sources),s.tracks&&o("track",s.tracks),n.oncanplay=()=>e(1,r=1),t.append(n)},o]}class Ct extends ct{constructor(t){super(),st(this,t,Tt,Ht,s,{D:4,activeDimensions:0})}}function Et(n){let e,o,r,c,l,a,p,f,d,m,b,g,x,M,_=n[8].i,S=Xt(n),z=n[8].caption&&Zt(n),D=n[0].length>1&&Ft(n),P=n[6].thumbs&&n[0].length>1&&Vt(n);return{c(){e=y("div"),o=y("div"),l=y("div"),a=y("div"),S.c(),p=y("div"),z&&z.c(),f=y("div"),d=y("button"),D&&D.c(),P&&P.c(),k(o,"class","bp-overlay"),k(p,"class","bp-ruler"),k(a,"class","bp-inner"),k(l,"class","bp-stage"),k(d,"class","bp-x"),k(d,"title","Close"),k(d,"aria-label","Close"),k(f,"class","bp-controls"),k(e,"class","bp-wrap"),I(e,"bp-zoomed",n[14]),I(e,"bp-inline",n[10]),I(e,"bp-small",n[9]),I(e,"bp-noclose",n[6].noClose)},m(t,i){w(t,e,i),h(e,o),h(e,l),h(l,a),S.m(a,null),h(a,p),z&&z.m(l,null),h(e,f),h(f,d),D&&D.m(f,null),P&&P.m(e,null),g=1,x||(M=[u(n[19].call(null,p)),$(d,"click",n[1]),u(n[18].call(null,e))],x=1)},p(n,o){256&o[0]&&s(_,_=n[8].i)?(V(),B(S,1,1,t),K(),S=Xt(n),S.c(),Y(S,1),S.m(a,p)):S.p(n,o),n[8].caption?z?(z.p(n,o),256&o[0]&&Y(z,1)):(z=Zt(n),z.c(),Y(z,1),z.m(l,null)):z&&(V(),B(z,1,1,()=>{z=null}),K()),n[0].length>1?D?D.p(n,o):(D=Ft(n),D.c(),D.m(f,null)):D&&(D.d(1),D=null),n[6].thumbs&&n[0].length>1?P?(P.p(n,o),65&o[0]&&Y(P,1)):(P=Vt(n),P.c(),Y(P,1),P.m(e,null)):P&&(V(),B(P,1,1,()=>{P=null}),K()),(!g||16384&o[0])&&I(e,"bp-zoomed",n[14]),(!g||1024&o[0])&&I(e,"bp-inline",n[10]),(!g||512&o[0])&&I(e,"bp-small",n[9]),(!g||64&o[0])&&I(e,"bp-noclose",n[6].noClose)},i(t){g||(C(()=>{g&&(c&&c.end(1),r=Q(o,bt,ft(500)),r.start())}),Y(S),Y(z),C(()=>{g&&(b&&b.end(1),m=Q(f,bt,ft(500)),m.start())}),Y(P),g=1)},o(t){r&&r._(),c=tt(o,bt,ft(500)),B(S),B(z),m&&m._(),b=tt(f,bt,ft(500)),B(P),g=0},d(t){t&&v(e),t&&c&&c.end(),S.d(t),z&&z.d(),D&&D.d(),t&&b&&b.end(),P&&P.d(),x=0,i(M)}}}function Nt(t){let n,e,o,i;const r=[Jt,qt,Wt,Ot],s=[];function c(t,n){return t[8].img?0:t[8].sources?1:t[8].iframe?2:3}return n=c(t),e=s[n]=r[n](t),{c(){e.c(),o=x()},m(t,e){s[n].m(t,e),w(t,o,e),i=1},p(t,i){let l=n;n=c(t),n===l?s[n].p(t,i):(V(),B(s[l],1,1,()=>{s[l]=null}),K(),e=s[n],e?e.p(t,i):(e=s[n]=r[n](t),e.c()),Y(e,1),e.m(o.parentNode,o))},i(t){i||(Y(e),i=1)},o(t){B(e),i=0},d(t){t&&v(o),s[n].d(t)}}}function Ot(n){let e,o=(n[8].html??n[8].element.outerHTML)+"";return{c(){e=y("div"),k(e,"class","bp-html")},m(t,n){w(t,e,n),e.innerHTML=o},p(t,n){256&n[0]&&o!==(o=(t[8].html??t[8].element.outerHTML)+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&v(e)}}}function Wt(t){let n,e;return n=new jt({D:{D:t[17](),activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};8192&e[0]&&(o.activeDimensions=t[13]),n.j(o)},i(t){e||(Y(n.l.fragment,t),e=1)},o(t){B(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function qt(t){let n,e;return n=new Ct({D:{D:t[17](),activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};8192&e[0]&&(o.activeDimensions=t[13]),n.j(o)},i(t){e||(Y(n.l.fragment,t),e=1)},o(t){B(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Jt(t){let n,e;return n=new Rt({D:{D:t[17](),T:t[9],containerWidth:t[7],containerHeight:t[12],activeDimensions:t[13]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};512&e[0]&&(o.T=t[9]),128&e[0]&&(o.containerWidth=t[7]),4096&e[0]&&(o.containerHeight=t[12]),8192&e[0]&&(o.activeDimensions=t[13]),n.j(o)},i(t){e||(Y(n.l.fragment,t),e=1)},o(t){B(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Xt(t){let n,e,o,r,s,c,l=t[7]>0&&t[12]>0&&Nt(t);return{c(){n=y("div"),l&&l.c(),k(n,"class","bp-slide")},m(e,o){w(e,n,o),l&&l.m(n,null),r=1,s||(c=[$(n,"pointerdown",t[24]),$(n,"pointerup",t[25])],s=1)},p(t,e){t[7]>0&&t[12]>0?l?(l.p(t,e),4224&e[0]&&Y(l,1)):(l=Nt(t),l.c(),Y(l,1),l.m(n,null)):l&&(V(),B(l,1,1,()=>{l=null}),K())},i(i){r||(Y(l),C(()=>{r&&(o&&o.end(1),e=Q(n,t[16],1),e.start())}),r=1)},o(i){B(l),e&&e._(),o=tt(n,t[16],0),r=0},d(t){t&&v(n),l&&l.d(),t&&o&&o.end(),s=0,i(c)}}}function Zt(t){let n,e,o,i,r=t[8].caption+"";return{c(){n=y("div"),k(n,"class","bp-caption")},m(t,e){w(t,n,e),n.innerHTML=r,i=1},p(t,e){(!i||256&e[0])&&r!==(r=t[8].caption+"")&&(n.innerHTML=r)},i(t){i||(C(()=>{i&&(o&&o.end(1),e=Q(n,bt,ft(500)),e.start())}),i=1)},o(t){e&&e._(),o=tt(n,bt,ft(500)),i=0},d(t){t&&v(n),t&&o&&o.end()}}}function Ft(t){let n,e,o,r,s,c=`${t[5]+1} / ${t[0].length}`;return{c(){n=y("div"),e=y("button"),o=y("button"),k(n,"class","bp-count"),k(e,"class","bp-prev"),k(e,"title","Previous"),k(e,"aria-label","Previous"),k(o,"class","bp-next"),k(o,"title","Next"),k(o,"aria-label","Next")},m(i,l){w(i,n,l),n.innerHTML=c,w(i,e,l),w(i,o,l),r||(s=[$(e,"click",t[2]),$(o,"click",t[3])],r=1)},p(t,e){33&e[0]&&c!==(c=`${t[5]+1} / ${t[0].length}`)&&(n.innerHTML=c)},d(t){t&&(v(n),v(e),v(o)),r=0,i(s)}}}function Vt(t){let n,e;return n=new $t({D:{position:t[5],setPosition:t[4],items:t[0]}}),{c(){ot(n.l.fragment)},m(t,o){it(n,t,o),e=1},p(t,e){const o={};32&e[0]&&(o.position=t[5]),1&e[0]&&(o.items=t[0]),n.j(o)},i(t){e||(Y(n.l.fragment,t),e=1)},o(t){B(n.l.fragment,t),e=0},d(t){rt(n,t)}}}function Kt(t){let n,e,o=t[0]&&Et(t);return{c(){o&&o.c(),n=x()},m(t,i){o&&o.m(t,i),w(t,n,i),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&Y(o,1)):(o=Et(t),o.c(),Y(o,1),o.m(n.parentNode,n)):o&&(V(),B(o,1,1,()=>{o=null}),K())},i(t){e||(Y(o),e=1)},o(t){B(o),e=0},d(t){t&&v(n),o&&o.d(t)}}}function Yt(t,n,e){let o,{items:i}=n,{target:r}=n;const s=document.documentElement;let l,u,a,p,f,d,m,b,h,g,w,v,y=0,x=null;const $=ut(0);c(t,$,t=>e(14,o=t));const k=()=>{l.onClose?.(h,x),pt.set(1),e(0,i=null),a?.focus({preventScroll:1})},M=()=>_(y-1),I=()=>_(y+1),_=t=>{d=t-y,e(5,y=S(t))},S=t=>(t+i.length)%i.length,z=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!l.noClose&&k();else if("ArrowRight"===n)I();else if("ArrowLeft"===n)M();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const{focusWrap:o=h}=l,i=[...o.querySelectorAll("*")].filter(t=>t.tabIndex>=0);let r=i.indexOf(n);r+=i.length+(e?-1:1),i[r%i.length].focus()}}},D=(t,n)=>{if(n instanceof HTMLImageElement&&(!t.width||!t.height)){let o=P({width:n.naturalWidth,height:n.naturalHeight});t.width=o[0],t.height=o[1],t.scaled=1,e(13,v=o)}},P=({width:t=1920,height:n=1080})=>{const e=h?parseInt(window.getComputedStyle(h).getPropertyValue("--bp-stage-gap")):0,{scale:o=1}=l,i=Math.min((g-2*e)/t*o,(w-2*e)/n*o);return[Math.round(t*i),Math.round(n*i)]},L=()=>{if(i){const t=i[S(y+1)],n=i[S(y-1)];!t.preload&&R(t),!n.preload&&R(n)}},R=t=>{if(t.img){let n=document.createElement("img"),e=decodeURIComponent(t.img),o="";if(/\s+\d+[wx]/.test(e)){let i="",r=Array.from(e.matchAll(/(\S+)\s+(\d+)([wx])/gi),t=>({url:t[1],value:parseInt(t[2]),type:t[3]}));if(o=e,r.length>1)if("w"===r[0].type)r.sort((t,n)=>t.value-n.value),i=r.find(t=>t.value>=g)||r[r.length-1];else{let t=window.devicePixelRatio||1;i=r.find(n=>n.value>=t)||r[r.length-1]}!i&&r[0]&&(i=r[0]),i&&i.url?(n.src=i.url,t.attr.src=i.url):n.srcset=o,n.sizes=l.sizes||P(t)[0]+"px",t.attr.sizes=n.sizes,t.attr.srcset=o}else n.src=e,t.attr.src=e;return n.preload=1,n.decode().then(()=>{t.scaled&&n.naturalWidth>0&&n.naturalHeight>0&&(t.width=n.naturalWidth,t.height=n.naturalHeight),n.src&&o&&(n.srcset=o)}).catch(t=>{})}};return t.U=t=>{"items"in t&&e(0,i=t.items),"target"in t&&e(20,r=t.target)},t.l.update=()=>{12583265&t.l.h[0]&&i&&i[y]&&(e(8,x=i[y]),e(13,v=P(x)),u&&l.onUpdate?.(h,x)),128&t.l.h[0]&&e(9,p=769>g)},[i,k,M,I,_,y,l,g,x,p,f,m,w,v,o,$,(t,n)=>u&&i?bt(t,{...ft(250),x:(d>0?20:-20)*(n?1:-1)}):(e(22,u=n),l.intro?bt(t,{y:n?10:-10}):(t=>{let n,o;if(b&&(e(7,g=b.clientWidth),e(12,w=b.clientHeight)),x.img||x.sources||x.iframe)n=v;else{const e=t.firstChild.firstChild;n=[e.clientWidth,e.clientHeight]}const i=(x.element||a).getBoundingClientRect(),r=i.left-(g-i.width)/2,s=i.top-(w-i.height)/2,c=i.width/n[0],l=i.height/n[1];if("cover"===x.fit){const t=Math.max(l,c),e=Math.max((n[1]-i.height/t)/2,0),u=Math.max((n[0]-i.width/t)/2,0);o=(n,o)=>`transform: translate3d(${r*o}px, ${s*o}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);\n\t\t\t\t--bp-clip-y: ${e*o}px;\n\t\t\t\t--bp-clip-x: ${u*o}px;`}else if("contain"===x.fit){const t=Math.min(l,c);o=(n,e)=>`transform: translate3d(${r*e}px, ${s*e}px, 0) scale3d(${t+n*(1-t)}, ${t+n*(1-t)}, 1);`}else o=(t,n)=>`transform: translate3d(${r*n}px, ${s*n}px, 0) scale3d(${c+t*(1-c)}, ${l+t*(1-l)}, 1);`;return{...ft(500),css:o}})(t)),()=>({q:P,W:L,H:x,O:R,container:h,zoomed:$,close:k,C:l,N:M,next:I}),t=>(e(23,h=t),l.onOpen?.(h,x),f||window.addEventListener("keydown",z),{destroy(){window.removeEventListener("keydown",z),pt.set(0),s.classList.remove("bp-lock"),l.onClosed?.()}}),t=>{b=t;const n=new ResizeObserver(t=>{const n=t[0].contentRect;n.width===g&&n.height===w||(e(7,g=n.width),e(12,w=n.height),e(13,v=P(x))),l.onResize?.(h,x)});return n.observe(t),{destroy(){n.disconnect()}}},r,t=>{e(6,l=t),e(10,f=l.inline),!f&&s.scrollHeight>s.clientHeight&&s.classList.add("bp-lock"),a=document.activeElement,r&&(e(23,h=r),e(7,g=r.offsetWidth),e(12,w=r===document.body?window.innerHeight:r.clientHeight)),e(5,y=l.position||0);const n=[];l.items instanceof HTMLElement?e(6,l.items=[l.items],l):e(6,l.items=Array.from(l.items),l),l.items.forEach((t,o)=>{"object"==typeof(t=(t=>{if(t instanceof HTMLElement&&(t={element:t,...t.dataset}),t.attr=t.attr||{},["link","thumb","iframe","html","img","sources","caption","alt","fit","attr"].forEach(n=>{"function"==typeof t[n]&&(t[n]=t[n](t))}),t.sources&&"string"==typeof t.sources&&(t.sources=JSON.parse(t.sources)),t.sources)t.type="video";else if(t.iframe)t.type="iframe";else if(t.img)t.type="image";else if(t.html)t.type="html";else{let n=t.element?.link||t.element?.href||"";if(!n)return 0;t=((t,n)=>{let e=t.match(/\.(?:jpe?g|png|gif|bmp|webp|avif|svg|tiff|ico)(?:[\?#].*)?$/i);if(e)return n.type="image",n.img=t,n;if(e=t.match(/\.(mp4|mpeg|mov|ogv|webm|avi|h264)((\?|#).*)?$/i),e){n.type="video";let o=e[1].toLowerCase();return n.sources=[{src:t,type:"video/"+({ogv:"ogg",mov:"quicktime",avi:"x-msvideo"}[o]||o)}],n}if(e=t.match(/\.(mp3|wav|ogg|oga|m4a|aac|flac|opus|wma|weba|mid)((\?|#).*)?$/i),e){let o=e[1].toLowerCase(),i={mp3:"mpeg",m4a:"mp4",oga:"ogg",opus:"ogg",mid:"midi",weba:"webm"};n.type="video",n.sources=[{src:t,type:"audio/"+(i[o]||o)}]}if(e=t.match(/(youtube\.com|youtu\.be)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i),e){let o=encodeURIComponent(e[2]),i=new URL(t),r=new URL("https://www.youtube.com/embed/"+o+"?autoplay=1&playsinline=1&controls=1&rel=0");i.searchParams.delete("v");for(let[t,n]of i.searchParams){if("t"===t){let e=n.match(/((\d*)m)?(\d*)s?/);e&&(t="start",n=60*parseInt(e[2]||"0")+parseInt(e[3]||"0"))}r.searchParams.set(t,n)}return n.type="iframe",n.iframe=""+r,n.preview="https://i.ytimg.com/vi/"+o+"/mqdefault.jpg",n}if(e=t.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/),e){let o=encodeURIComponent(e[2]),i=new URL(t),r=new URL("https://player.vimeo.com/video/"+o+"?autoplay=1&playsinline=1");for(let[t,n]of i.searchParams)r.searchParams.set(t,n);return e[5]?r.searchParams.set("h",e[5]):n.preview="https://vumbnail.com/"+o+".jpg",i.hash&&i.hash.startsWith("#t=")&&(r.hash=i.hash),n.type="iframe",n.iframe=""+r,n}if(e=t.match(/^(https?:\/\/)?(www\.)?(m\.)?soundcloud\.com\/([a-zA-Z0-9-_]+\/[a-zA-Z0-9-_]+.*)$/),e){let e=new URL("https://w.soundcloud.com/player/?auto_play=1&visual=1&hide_related=1&show_comments=0");return e.searchParams.set("url",t),n.type="iframe",n.iframe=""+e,n}if(e=t.match(/(drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+))|(dropbox\.com\/s\/)|(\.pdf($|\?|#))/i),e){if(e[1]&&e[2])n.iframe=`https://drive.google.com/file/d/${e[2]}/preview`;else if(e[3]){const e=new URL(t);e.searchParams.set("raw","1"),e.searchParams.delete("dl"),n.iframe=""+e}else e[4]&&(n.iframe=t);n.width&&n.height||(n.width=g,n.height=w)}return n})(n,t)}return l.types&&-1===l.types.indexOf(t.type)?0:(t=>{let n=0;if(t.thumb instanceof HTMLImageElement?n=t.thumb:t.element&&(n=t.element.querySelector("img")),n)return t.fit||(t.fit=window.getComputedStyle(n).objectFit),t.thumb&&t.thumb!==n.src||(t.thumb=n.src,D(t,n)),t;let e=t.thumb||t.preview;return e&&(n=new Image,n.src=e,n.onload=()=>{D(t,n)}),t})(t)})(t))&&(t.i=o,l.el&&l.el===t.element&&e(5,y=o),n.push(t))}),e(0,i=n)},u,h,t=>e(11,m=t.target),function(t){2!==t.button&&t.target===this&&m===this&&!l.noClose&&k()}]}class Bt extends ct{constructor(t){super(),st(this,t,Yt,Kt,s,{items:0,target:20,open:21,close:1,N:2,next:3,setPosition:4},null,[-1,-1])}get items(){return this.l.$[0]}get target(){return this.l.$[20]}get open(){return this.l.$[21]}get close(){return this.l.$[1]}get N(){return this.l.$[2]}get next(){return this.l.$[3]}get setPosition(){return this.l.$[4]}}function Gt(t){return"object"!=typeof t&&(t={target:document.body}),new Bt({...t,D:t})}export{Gt as default};
